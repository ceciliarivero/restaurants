<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Redis - redis-3.0.2 Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/redis/client.rb
    <li>lib/redis/pipeline.rb
    <li>lib/redis/version.rb
    <li>lib/redis/errors.rb
    <li>lib/redis/hash_ring.rb
    <li>lib/redis/connection/command_helper.rb
    <li>lib/redis/connection/hiredis.rb
    <li>lib/redis/connection/synchrony.rb
    <li>lib/redis/connection/ruby.rb
    <li>lib/redis/connection/registry.rb
    <li>lib/redis/subscribe.rb
    <li>lib/redis/distributed.rb
    <li>lib/redis.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">MonitorMixin</span>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-connect">::connect</a>
    
    <li><a href="#method-c-current">::current</a>
    
    <li><a href="#method-c-current-3D">::current=</a>
    
    <li><a href="#method-c-deprecate">::deprecate</a>
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-5B-5D">#[]</a>
    
    <li><a href="#method-i-5B-5D-3D">#[]=</a>
    
    <li><a href="#method-i-_bpop">#_bpop</a>
    
    <li><a href="#method-i-_eval">#_eval</a>
    
    <li><a href="#method-i-append">#append</a>
    
    <li><a href="#method-i-auth">#auth</a>
    
    <li><a href="#method-i-bgrewriteaof">#bgrewriteaof</a>
    
    <li><a href="#method-i-bgsave">#bgsave</a>
    
    <li><a href="#method-i-blpop">#blpop</a>
    
    <li><a href="#method-i-brpop">#brpop</a>
    
    <li><a href="#method-i-brpoplpush">#brpoplpush</a>
    
    <li><a href="#method-i-config">#config</a>
    
    <li><a href="#method-i-dbsize">#dbsize</a>
    
    <li><a href="#method-i-debug">#debug</a>
    
    <li><a href="#method-i-decr">#decr</a>
    
    <li><a href="#method-i-decrby">#decrby</a>
    
    <li><a href="#method-i-del">#del</a>
    
    <li><a href="#method-i-discard">#discard</a>
    
    <li><a href="#method-i-echo">#echo</a>
    
    <li><a href="#method-i-eval">#eval</a>
    
    <li><a href="#method-i-evalsha">#evalsha</a>
    
    <li><a href="#method-i-exec">#exec</a>
    
    <li><a href="#method-i-exists">#exists</a>
    
    <li><a href="#method-i-expire">#expire</a>
    
    <li><a href="#method-i-expireat">#expireat</a>
    
    <li><a href="#method-i-flushall">#flushall</a>
    
    <li><a href="#method-i-flushdb">#flushdb</a>
    
    <li><a href="#method-i-get">#get</a>
    
    <li><a href="#method-i-getbit">#getbit</a>
    
    <li><a href="#method-i-getrange">#getrange</a>
    
    <li><a href="#method-i-getset">#getset</a>
    
    <li><a href="#method-i-hdel">#hdel</a>
    
    <li><a href="#method-i-hexists">#hexists</a>
    
    <li><a href="#method-i-hget">#hget</a>
    
    <li><a href="#method-i-hgetall">#hgetall</a>
    
    <li><a href="#method-i-hincrby">#hincrby</a>
    
    <li><a href="#method-i-hincrbyfloat">#hincrbyfloat</a>
    
    <li><a href="#method-i-hkeys">#hkeys</a>
    
    <li><a href="#method-i-hlen">#hlen</a>
    
    <li><a href="#method-i-hmget">#hmget</a>
    
    <li><a href="#method-i-hmset">#hmset</a>
    
    <li><a href="#method-i-hset">#hset</a>
    
    <li><a href="#method-i-hsetnx">#hsetnx</a>
    
    <li><a href="#method-i-hvals">#hvals</a>
    
    <li><a href="#method-i-id">#id</a>
    
    <li><a href="#method-i-incr">#incr</a>
    
    <li><a href="#method-i-incrby">#incrby</a>
    
    <li><a href="#method-i-incrbyfloat">#incrbyfloat</a>
    
    <li><a href="#method-i-info">#info</a>
    
    <li><a href="#method-i-inspect">#inspect</a>
    
    <li><a href="#method-i-keys">#keys</a>
    
    <li><a href="#method-i-lastsave">#lastsave</a>
    
    <li><a href="#method-i-lindex">#lindex</a>
    
    <li><a href="#method-i-linsert">#linsert</a>
    
    <li><a href="#method-i-llen">#llen</a>
    
    <li><a href="#method-i-lpop">#lpop</a>
    
    <li><a href="#method-i-lpush">#lpush</a>
    
    <li><a href="#method-i-lpushx">#lpushx</a>
    
    <li><a href="#method-i-lrange">#lrange</a>
    
    <li><a href="#method-i-lrem">#lrem</a>
    
    <li><a href="#method-i-lset">#lset</a>
    
    <li><a href="#method-i-ltrim">#ltrim</a>
    
    <li><a href="#method-i-mapped_hmget">#mapped_hmget</a>
    
    <li><a href="#method-i-mapped_hmset">#mapped_hmset</a>
    
    <li><a href="#method-i-mapped_mget">#mapped_mget</a>
    
    <li><a href="#method-i-mapped_mset">#mapped_mset</a>
    
    <li><a href="#method-i-mapped_msetnx">#mapped_msetnx</a>
    
    <li><a href="#method-i-method_missing">#method_missing</a>
    
    <li><a href="#method-i-mget">#mget</a>
    
    <li><a href="#method-i-monitor">#monitor</a>
    
    <li><a href="#method-i-move">#move</a>
    
    <li><a href="#method-i-mset">#mset</a>
    
    <li><a href="#method-i-msetnx">#msetnx</a>
    
    <li><a href="#method-i-multi">#multi</a>
    
    <li><a href="#method-i-object">#object</a>
    
    <li><a href="#method-i-persist">#persist</a>
    
    <li><a href="#method-i-pexpire">#pexpire</a>
    
    <li><a href="#method-i-pexpireat">#pexpireat</a>
    
    <li><a href="#method-i-ping">#ping</a>
    
    <li><a href="#method-i-pipelined">#pipelined</a>
    
    <li><a href="#method-i-psetex">#psetex</a>
    
    <li><a href="#method-i-psubscribe">#psubscribe</a>
    
    <li><a href="#method-i-pttl">#pttl</a>
    
    <li><a href="#method-i-publish">#publish</a>
    
    <li><a href="#method-i-punsubscribe">#punsubscribe</a>
    
    <li><a href="#method-i-quit">#quit</a>
    
    <li><a href="#method-i-randomkey">#randomkey</a>
    
    <li><a href="#method-i-rename">#rename</a>
    
    <li><a href="#method-i-renamenx">#renamenx</a>
    
    <li><a href="#method-i-rpop">#rpop</a>
    
    <li><a href="#method-i-rpoplpush">#rpoplpush</a>
    
    <li><a href="#method-i-rpush">#rpush</a>
    
    <li><a href="#method-i-rpushx">#rpushx</a>
    
    <li><a href="#method-i-sadd">#sadd</a>
    
    <li><a href="#method-i-save">#save</a>
    
    <li><a href="#method-i-scard">#scard</a>
    
    <li><a href="#method-i-script">#script</a>
    
    <li><a href="#method-i-sdiff">#sdiff</a>
    
    <li><a href="#method-i-sdiffstore">#sdiffstore</a>
    
    <li><a href="#method-i-select">#select</a>
    
    <li><a href="#method-i-set">#set</a>
    
    <li><a href="#method-i-setbit">#setbit</a>
    
    <li><a href="#method-i-setex">#setex</a>
    
    <li><a href="#method-i-setnx">#setnx</a>
    
    <li><a href="#method-i-setrange">#setrange</a>
    
    <li><a href="#method-i-shutdown">#shutdown</a>
    
    <li><a href="#method-i-sinter">#sinter</a>
    
    <li><a href="#method-i-sinterstore">#sinterstore</a>
    
    <li><a href="#method-i-sismember">#sismember</a>
    
    <li><a href="#method-i-slaveof">#slaveof</a>
    
    <li><a href="#method-i-slowlog">#slowlog</a>
    
    <li><a href="#method-i-smembers">#smembers</a>
    
    <li><a href="#method-i-smove">#smove</a>
    
    <li><a href="#method-i-sort">#sort</a>
    
    <li><a href="#method-i-spop">#spop</a>
    
    <li><a href="#method-i-srandmember">#srandmember</a>
    
    <li><a href="#method-i-srem">#srem</a>
    
    <li><a href="#method-i-strlen">#strlen</a>
    
    <li><a href="#method-i-subscribe">#subscribe</a>
    
    <li><a href="#method-i-subscribed-3F">#subscribed?</a>
    
    <li><a href="#method-i-sunion">#sunion</a>
    
    <li><a href="#method-i-sunionstore">#sunionstore</a>
    
    <li><a href="#method-i-sync">#sync</a>
    
    <li><a href="#method-i-synchronize">#synchronize</a>
    
    <li><a href="#method-i-time">#time</a>
    
    <li><a href="#method-i-ttl">#ttl</a>
    
    <li><a href="#method-i-type">#type</a>
    
    <li><a href="#method-i-unsubscribe">#unsubscribe</a>
    
    <li><a href="#method-i-unwatch">#unwatch</a>
    
    <li><a href="#method-i-watch">#watch</a>
    
    <li><a href="#method-i-with_reconnect">#with_reconnect</a>
    
    <li><a href="#method-i-without_reconnect">#without_reconnect</a>
    
    <li><a href="#method-i-zadd">#zadd</a>
    
    <li><a href="#method-i-zcard">#zcard</a>
    
    <li><a href="#method-i-zcount">#zcount</a>
    
    <li><a href="#method-i-zincrby">#zincrby</a>
    
    <li><a href="#method-i-zinterstore">#zinterstore</a>
    
    <li><a href="#method-i-zrange">#zrange</a>
    
    <li><a href="#method-i-zrangebyscore">#zrangebyscore</a>
    
    <li><a href="#method-i-zrank">#zrank</a>
    
    <li><a href="#method-i-zrem">#zrem</a>
    
    <li><a href="#method-i-zremrangebyrank">#zremrangebyrank</a>
    
    <li><a href="#method-i-zremrangebyscore">#zremrangebyscore</a>
    
    <li><a href="#method-i-zrevrange">#zrevrange</a>
    
    <li><a href="#method-i-zrevrangebyscore">#zrevrangebyscore</a>
    
    <li><a href="#method-i-zrevrank">#zrevrank</a>
    
    <li><a href="#method-i-zscore">#zscore</a>
    
    <li><a href="#method-i-zunionstore">#zunionstore</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    
    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Redis.html">Redis</a>
  
    <li><a href="./Redis/BaseConnectionError.html">Redis::BaseConnectionError</a>
  
    <li><a href="./Redis/BaseError.html">Redis::BaseError</a>
  
    <li><a href="./Redis/BasicObject.html">Redis::BasicObject</a>
  
    <li><a href="./Redis/CannotConnectError.html">Redis::CannotConnectError</a>
  
    <li><a href="./Redis/Client.html">Redis::Client</a>
  
    <li><a href="./Redis/CommandError.html">Redis::CommandError</a>
  
    <li><a href="./Redis/Connection.html">Redis::Connection</a>
  
    <li><a href="./Redis/Connection/CommandHelper.html">Redis::Connection::CommandHelper</a>
  
    <li><a href="./Redis/Connection/Hiredis.html">Redis::Connection::Hiredis</a>
  
    <li><a href="./Redis/Connection/RedisClient.html">Redis::Connection::RedisClient</a>
  
    <li><a href="./Redis/Connection/Ruby.html">Redis::Connection::Ruby</a>
  
    <li><a href="./Redis/Connection/SocketMixin.html">Redis::Connection::SocketMixin</a>
  
    <li><a href="./Redis/Connection/Synchrony.html">Redis::Connection::Synchrony</a>
  
    <li><a href="./Redis/Connection/TCPSocket.html">Redis::Connection::TCPSocket</a>
  
    <li><a href="./Redis/Connection/UNIXSocket.html">Redis::Connection::UNIXSocket</a>
  
    <li><a href="./Redis/ConnectionError.html">Redis::ConnectionError</a>
  
    <li><a href="./Redis/Distributed.html">Redis::Distributed</a>
  
    <li><a href="./Redis/Distributed/CannotDistribute.html">Redis::Distributed::CannotDistribute</a>
  
    <li><a href="./Redis/Future.html">Redis::Future</a>
  
    <li><a href="./Redis/FutureNotReady.html">Redis::FutureNotReady</a>
  
    <li><a href="./Redis/HashRing.html">Redis::HashRing</a>
  
    <li><a href="./Redis/InheritedError.html">Redis::InheritedError</a>
  
    <li><a href="./Redis/Pipeline.html">Redis::Pipeline</a>
  
    <li><a href="./Redis/Pipeline/Multi.html">Redis::Pipeline::Multi</a>
  
    <li><a href="./Redis/ProtocolError.html">Redis::ProtocolError</a>
  
    <li><a href="./Redis/SubscribedClient.html">Redis::SubscribedClient</a>
  
    <li><a href="./Redis/Subscription.html">Redis::Subscription</a>
  
    <li><a href="./Redis/TimeoutError.html">Redis::TimeoutError</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Redis</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="VERSION">VERSION
        
        <dd class="description">
        
      
      </dl>
    </section>
    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-client" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">client</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-connect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">connect</span><span
            class="method-args">(options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>@deprecated The preferred way to create a new client object is using `new`.</p>

<pre>This method does not actually establish a connection to Redis,
in contrary to what you might expect.</pre>
          

          
          <div class="method-source-code" id="connect-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 15</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- connect-source -->
          
        </div>

        

        
      </div><!-- connect-method -->

    
      <div id="method-c-current" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">current</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="current-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">current</span>
  <span class="ruby-ivar">@current</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Redis</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- current-source -->
          
        </div>

        

        
      </div><!-- current-method -->

    
      <div id="method-c-current-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">current=</span><span
            class="method-args">(redis)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="current-3D-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">current=</span>(<span class="ruby-identifier">redis</span>)
  <span class="ruby-ivar">@current</span> = <span class="ruby-identifier">redis</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- current-3D-source -->
          
        </div>

        

        
      </div><!-- current-3D-method -->

    
      <div id="method-c-deprecate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deprecate</span><span
            class="method-args">(message, trace = caller[0])</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="deprecate-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 6</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">deprecate</span>(<span class="ruby-identifier">message</span>, <span class="ruby-identifier">trace</span> = <span class="ruby-identifier">caller</span>[<span class="ruby-value">0</span>])
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;\n#{message} (in #{trace})&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- deprecate-source -->
          
        </div>

        

        
      </div><!-- deprecate-method -->

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-ivar">@client</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">super</span>() <span class="ruby-comment"># Monitor#initialize</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-5B-5D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">[]</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Redis.html#method-i-get">get</a>
        </div>
        
      </div><!-- 5B-5D-method -->

    
      <div id="method-i-5B-5D-3D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">[]=</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Redis.html#method-i-set">set</a>
        </div>
        
      </div><!-- 5B-5D-3D-method -->

    
      <div id="method-i-_bpop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_bpop</span><span
            class="method-args">(cmd, args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="_bpop-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 924</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_bpop</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = {}

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Integer</span>
    <span class="ruby-comment"># Issue deprecation notice in obnoxious mode...</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:timeout</span>] = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
    <span class="ruby-comment"># Issue deprecation notice in obnoxious mode...</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>
  <span class="ruby-identifier">timeout</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:timeout</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call_without_timeout</span>([<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">keys</span>, <span class="ruby-identifier">timeout</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- _bpop-source -->
          
        </div>

        

        
      </div><!-- _bpop-method -->

    
      <div id="method-i-_eval" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_eval</span><span
            class="method-args">(cmd, args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="_eval-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2106</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_eval</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">script</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
  <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> {}

  <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:keys</span>] <span class="ruby-operator">||</span> []
  <span class="ruby-identifier">argv</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:argv</span>] <span class="ruby-operator">||</span> []

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">script</span>, <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">length</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">argv</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- _eval-source -->
          
        </div>

        

        
      </div><!-- _eval-method -->

    
      <div id="method-i-append" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">append</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Append a value to a key.</p>

<p>@param [String] key @param [String] value value to append @return [Fixnum]
length of the string after appending</p>
          

          
          <div class="method-source-code" id="append-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 810</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">append</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:append</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- append-source -->
          
        </div>

        

        
      </div><!-- append-method -->

    
      <div id="method-i-auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">auth</span><span
            class="method-args">(password)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Authenticate to the server.</p>

<p>@param [String] password must match the password specified in the</p>

<pre>`requirepass` directive in the configuration file</pre>

<p>@return [String] `OK`</p>
          

          
          <div class="method-source-code" id="auth-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">auth</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:auth</span>, <span class="ruby-identifier">password</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- auth-source -->
          
        </div>

        

        
      </div><!-- auth-method -->

    
      <div id="method-i-bgrewriteaof" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bgrewriteaof</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Asynchronously rewrite the append-only file.</p>

<p>@return [String] `OK`</p>
          

          
          <div class="method-source-code" id="bgrewriteaof-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bgrewriteaof</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:bgrewriteaof</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- bgrewriteaof-source -->
          
        </div>

        

        
      </div><!-- bgrewriteaof-method -->

    
      <div id="method-i-bgsave" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bgsave</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Asynchronously save the dataset to disk.</p>

<p>@return [String] `OK`</p>
          

          
          <div class="method-source-code" id="bgsave-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bgsave</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:bgsave</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- bgsave-source -->
          
        </div>

        

        
      </div><!-- bgsave-method -->

    
      <div id="method-i-blpop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">blpop</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove and get the first element in a list, or block until one is
available.</p>

<p>@example With timeout</p>

<pre class="ruby"><span class="ruby-identifier">list</span>, <span class="ruby-identifier">element</span> = <span class="ruby-identifier">redis</span>.<span class="ruby-identifier">blpop</span>(<span class="ruby-string">&quot;list&quot;</span>, :<span class="ruby-identifier">timeout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
  <span class="ruby-comment"># =&gt; nil on timeout</span>
  <span class="ruby-comment"># =&gt; [&quot;list&quot;, &quot;element&quot;] on success</span>
</pre>

<p>@example Without timeout</p>

<pre class="ruby"><span class="ruby-identifier">list</span>, <span class="ruby-identifier">element</span> = <span class="ruby-identifier">redis</span>.<span class="ruby-identifier">blpop</span>(<span class="ruby-string">&quot;list&quot;</span>)
  <span class="ruby-comment"># =&gt; [&quot;list&quot;, &quot;element&quot;]</span>
</pre>

<p>@example Blocking pop on multiple lists</p>

<pre class="ruby"><span class="ruby-identifier">list</span>, <span class="ruby-identifier">element</span> = <span class="ruby-identifier">redis</span>.<span class="ruby-identifier">blpop</span>([<span class="ruby-string">&quot;list&quot;</span>, <span class="ruby-string">&quot;another_list&quot;</span>])
  <span class="ruby-comment"># =&gt; [&quot;list&quot;, &quot;element&quot;]</span>
</pre>

<p>@param [String, Array&lt;String&gt;] keys one or more keys to perform the</p>

<pre>blocking pop on</pre>

<p>@param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:timeout =&gt; Fixnum`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">timeout</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">seconds</span>, <span class="ruby-identifier">defaults</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">no</span> <span class="ruby-identifier">timeout</span>
</pre>

<p>@return [nil, [String, String]]</p>

<pre>- `nil` when the operation timed out
- tuple of the list that was popped from and element was popped otherwise</pre>
          

          
          <div class="method-source-code" id="blpop-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 968</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">blpop</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">_bpop</span>(<span class="ruby-value">:blpop</span>, <span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- blpop-source -->
          
        </div>

        

        
      </div><!-- blpop-method -->

    
      <div id="method-i-brpop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">brpop</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove and get the last element in a list, or block until one is available.</p>

<p>@param [String, Array&lt;String&gt;] keys one or more keys to perform the</p>

<pre>blocking pop on</pre>

<p>@param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:timeout =&gt; Fixnum`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">timeout</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">seconds</span>, <span class="ruby-identifier">defaults</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">no</span> <span class="ruby-identifier">timeout</span>
</pre>

<p>@return [nil, [String, String]]</p>

<pre>- `nil` when the operation timed out
- tuple of the list that was popped from and element was popped otherwise</pre>

<p>@see <a href="Redis.html#method-i-blpop">blpop</a></p>
          

          
          <div class="method-source-code" id="brpop-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 984</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">brpop</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">_bpop</span>(<span class="ruby-value">:brpop</span>, <span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- brpop-source -->
          
        </div>

        

        
      </div><!-- brpop-method -->

    
      <div id="method-i-brpoplpush" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">brpoplpush</span><span
            class="method-args">(source, destination, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Pop a value from a list, push it to another list and return it; or block
until one is available.</p>

<p>@param [String] source source key @param [String] destination destination
key @param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:timeout =&gt; Fixnum`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">timeout</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">seconds</span>, <span class="ruby-identifier">defaults</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">no</span> <span class="ruby-identifier">timeout</span>
</pre>

<p>@return [nil, String]</p>

<pre>- `nil` when the operation timed out
- the element was popped and pushed otherwise</pre>
          

          
          <div class="method-source-code" id="brpoplpush-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 999</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">brpoplpush</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Integer</span>
    <span class="ruby-comment"># Issue deprecation notice in obnoxious mode...</span>
    <span class="ruby-identifier">options</span> = { <span class="ruby-value">:timeout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">timeout</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:timeout</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call_without_timeout</span>([<span class="ruby-value">:brpoplpush</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">timeout</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- brpoplpush-source -->
          
        </div>

        

        
      </div><!-- brpoplpush-method -->

    
      <div id="method-i-config" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">config</span><span
            class="method-args">(action, *args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get or set server configuration parameters.</p>

<p>@param [String] action e.g. `get`, `set`, `resetstat` @return [String,
Hash] string reply, or hash when retrieving more than one</p>

<pre>property with `CONFIG GET`</pre>
          

          
          <div class="method-source-code" id="config-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 129</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">config</span>(<span class="ruby-identifier">action</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:config</span>, <span class="ruby-identifier">action</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span> <span class="ruby-value">:get</span>
        <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">reply</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">to_a</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- config-source -->
          
        </div>

        

        
      </div><!-- config-method -->

    
      <div id="method-i-dbsize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dbsize</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return the number of keys in the selected database.</p>

<p>@return [Fixnum]</p>
          

          
          <div class="method-source-code" id="dbsize-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dbsize</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:dbsize</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- dbsize-source -->
          
        </div>

        

        
      </div><!-- dbsize-method -->

    
      <div id="method-i-debug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">debug</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="debug-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">debug</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:debug</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- debug-source -->
          
        </div>

        

        
      </div><!-- debug-method -->

    
      <div id="method-i-decr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">decr</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Decrement the integer value of a key by one.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">decr</span>(<span class="ruby-string">&quot;value&quot;</span>)
  <span class="ruby-comment"># =&gt; 4</span>
</pre>

<p>@param [String] key @return [Fixnum] value after decrementing it</p>
          

          
          <div class="method-source-code" id="decr-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 534</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">decr</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:decr</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- decr-source -->
          
        </div>

        

        
      </div><!-- decr-method -->

    
      <div id="method-i-decrby" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">decrby</span><span
            class="method-args">(key, decrement)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Decrement the integer value of a key by the given number.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">decrby</span>(<span class="ruby-string">&quot;value&quot;</span>, <span class="ruby-value">5</span>)
  <span class="ruby-comment"># =&gt; 0</span>
</pre>

<p>@param [String] key @param [Fixnum] decrement @return [Fixnum] value after
decrementing it</p>
          

          
          <div class="method-source-code" id="decrby-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 549</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">decrby</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">decrement</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:decrby</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">decrement</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- decrby-source -->
          
        </div>

        

        
      </div><!-- decrby-method -->

    
      <div id="method-i-del" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">del</span><span
            class="method-args">(*keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Delete one or more keys.</p>

<p>@param [String, Array&lt;String&gt;] keys @return [Fixnum] number of keys
that were deleted</p>
          

          
          <div class="method-source-code" id="del-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 366</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">del</span>(*<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:del</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- del-source -->
          
        </div>

        

        
      </div><!-- del-method -->

    
      <div id="method-i-discard" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">discard</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Discard all commands issued after MULTI.</p>

<p>Only call this method when `<a href="Redis.html#method-i-multi">multi</a>`
was called *<strong>without</strong>* a block.</p>

<p>@return `“OK”`</p>

<p>@see <a href="Redis.html#method-i-multi">multi</a> @see <a
href="Redis.html#method-i-exec">exec</a></p>
          

          
          <div class="method-source-code" id="discard-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2052</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">discard</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:discard</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- discard-source -->
          
        </div>

        

        
      </div><!-- discard-method -->

    
      <div id="method-i-echo" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">echo</span><span
            class="method-args">(value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Echo the given string.</p>

<p>@param [String] value @return [String]</p>
          

          
          <div class="method-source-code" id="echo-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">echo</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:echo</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- echo-source -->
          
        </div>

        

        
      </div><!-- echo-method -->

    
      <div id="method-i-eval" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eval</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Evaluate Lua script.</p>

<p>@example EVAL without KEYS nor ARGV</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">eval</span>(<span class="ruby-string">&quot;return 1&quot;</span>)
  <span class="ruby-comment"># =&gt; 1</span>
</pre>

<p>@example EVAL with KEYS and ARGV as array arguments</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">eval</span>(<span class="ruby-string">&quot;return { KEYS, ARGV }&quot;</span>, [<span class="ruby-string">&quot;k1&quot;</span>, <span class="ruby-string">&quot;k2&quot;</span>], [<span class="ruby-string">&quot;a1&quot;</span>, <span class="ruby-string">&quot;a2&quot;</span>])
  <span class="ruby-comment"># =&gt; [[&quot;k1&quot;, &quot;k2&quot;], [&quot;a1&quot;, &quot;a2&quot;]]</span>
</pre>

<p>@example EVAL with KEYS and ARGV in a hash argument</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">eval</span>(<span class="ruby-string">&quot;return { KEYS, ARGV }&quot;</span>, :<span class="ruby-identifier">keys</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;k1&quot;</span>, <span class="ruby-string">&quot;k2&quot;</span>], :<span class="ruby-identifier">argv</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;a1&quot;</span>, <span class="ruby-string">&quot;a2&quot;</span>])
  <span class="ruby-comment"># =&gt; [[&quot;k1&quot;, &quot;k2&quot;], [&quot;a1&quot;, &quot;a2&quot;]]</span>
</pre>

<p>@param [Array&lt;String&gt;] keys optional array with keys to pass to the
script @param [Array&lt;String&gt;] argv optional array with arguments to
pass to the script @param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:keys =&gt; Array&lt;String&gt;`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">optional</span> <span class="ruby-identifier">array</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">keys</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">pass</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">script</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:argv =&gt; Array&lt;String&gt;`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">optional</span> <span class="ruby-identifier">array</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">arguments</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">pass</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">script</span>
</pre>

<p>@return depends on the script</p>

<p>@see <a href="Redis.html#method-i-script">script</a> @see <a
href="Redis.html#method-i-evalsha">evalsha</a></p>
          

          
          <div class="method-source-code" id="eval-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2140</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eval</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">_eval</span>(<span class="ruby-value">:eval</span>, <span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- eval-source -->
          
        </div>

        

        
      </div><!-- eval-method -->

    
      <div id="method-i-evalsha" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">evalsha</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Evaluate Lua script by its SHA.</p>

<p>@example EVALSHA without KEYS nor ARGV</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">evalsha</span>(<span class="ruby-identifier">sha</span>)
  <span class="ruby-comment"># =&gt; &lt;depends on script&gt;</span>
</pre>

<p>@example EVALSHA with KEYS and ARGV as array arguments</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">evalsha</span>(<span class="ruby-identifier">sha</span>, [<span class="ruby-string">&quot;k1&quot;</span>, <span class="ruby-string">&quot;k2&quot;</span>], [<span class="ruby-string">&quot;a1&quot;</span>, <span class="ruby-string">&quot;a2&quot;</span>])
  <span class="ruby-comment"># =&gt; &lt;depends on script&gt;</span>
</pre>

<p>@example EVALSHA with KEYS and ARGV in a hash argument</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">evalsha</span>(<span class="ruby-identifier">sha</span>, :<span class="ruby-identifier">keys</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;k1&quot;</span>, <span class="ruby-string">&quot;k2&quot;</span>], :<span class="ruby-identifier">argv</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;a1&quot;</span>, <span class="ruby-string">&quot;a2&quot;</span>])
  <span class="ruby-comment"># =&gt; &lt;depends on script&gt;</span>
</pre>

<p>@param [Array&lt;String&gt;] keys optional array with keys to pass to the
script @param [Array&lt;String&gt;] argv optional array with arguments to
pass to the script @param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:keys =&gt; Array&lt;String&gt;`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">optional</span> <span class="ruby-identifier">array</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">keys</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">pass</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">script</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:argv =&gt; Array&lt;String&gt;`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">optional</span> <span class="ruby-identifier">array</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">arguments</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">pass</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">script</span>
</pre>

<p>@return depends on the script</p>

<p>@see <a href="Redis.html#method-i-script">script</a> @see <a
href="Redis.html#method-i-eval">eval</a></p>
          

          
          <div class="method-source-code" id="evalsha-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2165</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">evalsha</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">_eval</span>(<span class="ruby-value">:evalsha</span>, <span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- evalsha-source -->
          
        </div>

        

        
      </div><!-- evalsha-method -->

    
      <div id="method-i-exec" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exec</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Execute all commands issued after MULTI.</p>

<p>Only call this method when `<a href="Redis.html#method-i-multi">multi</a>`
was called *<strong>without</strong>* a block.</p>

<p>@return [nil, Array&lt;…&gt;]</p>

<pre>- when commands were not executed, `nil`
- when commands were executed, an array with their replies</pre>

<p>@see <a href="Redis.html#method-i-multi">multi</a> @see <a
href="Redis.html#method-i-discard">discard</a></p>
          

          
          <div class="method-source-code" id="exec-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2038</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exec</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:exec</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- exec-source -->
          
        </div>

        

        
      </div><!-- exec-method -->

    
      <div id="method-i-exists" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exists</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Determine if a key exists.</p>

<p>@param [String] key @return [Boolean]</p>
          

          
          <div class="method-source-code" id="exists-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 376</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exists</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:exists</span>, <span class="ruby-identifier">key</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- exists-source -->
          
        </div>

        

        
      </div><!-- exists-method -->

    
      <div id="method-i-expire" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expire</span><span
            class="method-args">(key, seconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set a key’s time to live in seconds.</p>

<p>@param [String] key @param [Fixnum] seconds time to live @return [Boolean]
whether the timeout was set or not</p>
          

          
          <div class="method-source-code" id="expire-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 301</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expire</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">seconds</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:expire</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">seconds</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- expire-source -->
          
        </div>

        

        
      </div><!-- expire-method -->

    
      <div id="method-i-expireat" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expireat</span><span
            class="method-args">(key, unix_time)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the expiration for a key as a UNIX timestamp.</p>

<p>@param [String] key @param [Fixnum] unix_time expiry time specified as a
UNIX timestamp @return [Boolean] whether the timeout was set or not</p>
          

          
          <div class="method-source-code" id="expireat-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expireat</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">unix_time</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:expireat</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">unix_time</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- expireat-source -->
          
        </div>

        

        
      </div><!-- expireat-method -->

    
      <div id="method-i-flushall" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flushall</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove all keys from all databases.</p>

<p>@return [String] `OK`</p>
          

          
          <div class="method-source-code" id="flushall-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 159</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flushall</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:flushall</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- flushall-source -->
          
        </div>

        

        
      </div><!-- flushall-method -->

    
      <div id="method-i-flushdb" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flushdb</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove all keys from the current database.</p>

<p>@return [String] `OK`</p>
          

          
          <div class="method-source-code" id="flushdb-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flushdb</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:flushdb</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- flushdb-source -->
          
        </div>

        

        
      </div><!-- flushdb-method -->

    
      <div id="method-i-get" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the value of a key.</p>

<p>@param [String] key @return [String]</p>
          

          
          <div class="method-source-code" id="get-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 713</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:get</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Redis.html#method-i-5B-5D">[]</a>
        </div>
        

        
      </div><!-- get-method -->

    
      <div id="method-i-getbit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getbit</span><span
            class="method-args">(key, offset)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the bit value at offset in the string value stored at key.</p>

<p>@param [String] key @param [Fixnum] offset bit offset @return [Fixnum] `0`
or `1`</p>
          

          
          <div class="method-source-code" id="getbit-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 799</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">getbit</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">offset</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:getbit</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">offset</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- getbit-source -->
          
        </div>

        

        
      </div><!-- getbit-method -->

    
      <div id="method-i-getrange" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getrange</span><span
            class="method-args">(key, start, stop)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get a substring of the string stored at a key.</p>

<p>@param [String] key @param [Fixnum] start zero-based start offset @param
[Fixnum] stop zero-based end offset. Use -1 for representing</p>

<pre>the end of the string</pre>

<p>@return [Fixnum] `0` or `1`</p>
          

          
          <div class="method-source-code" id="getrange-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 776</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">getrange</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:getrange</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- getrange-source -->
          
        </div>

        

        
      </div><!-- getrange-method -->

    
      <div id="method-i-getset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getset</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the string value of a key and return its old value.</p>

<p>@param [String] key @param [String] value value to replace the current
value with @return [String] the old value stored in the key, or `nil` if
the key</p>

<pre>did not exist</pre>
          

          
          <div class="method-source-code" id="getset-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 822</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">getset</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:getset</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- getset-source -->
          
        </div>

        

        
      </div><!-- getset-method -->

    
      <div id="method-i-hdel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hdel</span><span
            class="method-args">(key, field)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Delete one or more hash fields.</p>

<p>@param [String] key @param [String, Array&lt;String&gt;] field @return
[Fixnum] the number of fields that were removed from the hash</p>
          

          
          <div class="method-source-code" id="hdel-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1794</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hdel</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hdel</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hdel-source -->
          
        </div>

        

        
      </div><!-- hdel-method -->

    
      <div id="method-i-hexists" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hexists</span><span
            class="method-args">(key, field)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Determine if a hash field exists.</p>

<p>@param [String] key @param [String] field @return [Boolean] whether or not
the field exists in the hash</p>
          

          
          <div class="method-source-code" id="hexists-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1805</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hexists</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hexists</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hexists-source -->
          
        </div>

        

        
      </div><!-- hexists-method -->

    
      <div id="method-i-hget" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hget</span><span
            class="method-args">(key, field)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the value of a hash field.</p>

<p>@param [String] key @param [String] field @return [String]</p>
          

          
          <div class="method-source-code" id="hget-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1745</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hget</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hget</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hget-source -->
          
        </div>

        

        
      </div><!-- hget-method -->

    
      <div id="method-i-hgetall" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hgetall</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get all the fields and values in a hash.</p>

<p>@param [String] key @return [Hash&lt;String, String&gt;]</p>
          

          
          <div class="method-source-code" id="hgetall-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1861</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hgetall</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hgetall</span>, <span class="ruby-identifier">key</span>], &amp;<span class="ruby-identifier">_hashify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hgetall-source -->
          
        </div>

        

        
      </div><!-- hgetall-method -->

    
      <div id="method-i-hincrby" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hincrby</span><span
            class="method-args">(key, field, increment)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Increment the integer value of a hash field by the given integer number.</p>

<p>@param [String] key @param [String] field @param [Fixnum] increment @return
[Fixnum] value of the field after incrementing it</p>
          

          
          <div class="method-source-code" id="hincrby-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1817</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hincrby</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">increment</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hincrby</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">increment</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hincrby-source -->
          
        </div>

        

        
      </div><!-- hincrby-method -->

    
      <div id="method-i-hincrbyfloat" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hincrbyfloat</span><span
            class="method-args">(key, field, increment)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Increment the numeric value of a hash field by the given float number.</p>

<p>@param [String] key @param [String] field @param [Float] increment @return
[Float] value of the field after incrementing it</p>
          

          
          <div class="method-source-code" id="hincrbyfloat-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1829</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hincrbyfloat</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">increment</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hincrbyfloat</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">increment</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">reply</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hincrbyfloat-source -->
          
        </div>

        

        
      </div><!-- hincrbyfloat-method -->

    
      <div id="method-i-hkeys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hkeys</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get all the fields in a hash.</p>

<p>@param [String] key @return [Array&lt;String&gt;]</p>
          

          
          <div class="method-source-code" id="hkeys-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1841</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hkeys</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hkeys</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hkeys-source -->
          
        </div>

        

        
      </div><!-- hkeys-method -->

    
      <div id="method-i-hlen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hlen</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the number of fields in a hash.</p>

<p>@param [String] key @return [Fixnum] number of fields in the hash</p>
          

          
          <div class="method-source-code" id="hlen-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1678</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hlen</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hlen</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hlen-source -->
          
        </div>

        

        
      </div><!-- hlen-method -->

    
      <div id="method-i-hmget" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hmget</span><span
            class="method-args">(key, *fields, &blk)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the values of all the given hash fields.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">hmget</span>(<span class="ruby-string">&quot;hash&quot;</span>, <span class="ruby-string">&quot;f1&quot;</span>, <span class="ruby-string">&quot;f2&quot;</span>)
  <span class="ruby-comment"># =&gt; [&quot;v1&quot;, &quot;v2&quot;]</span>
</pre>

<p>@param [String] key @param [Array&lt;String&gt;] fields array of fields
@return [Array&lt;String&gt;] an array of values for the specified fields</p>

<p>@see <a href="Redis.html#method-i-mapped_hmget">mapped_hmget</a></p>
          

          
          <div class="method-source-code" id="hmget-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1762</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hmget</span>(<span class="ruby-identifier">key</span>, *<span class="ruby-identifier">fields</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hmget</span>, <span class="ruby-identifier">key</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">fields</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hmget-source -->
          
        </div>

        

        
      </div><!-- hmget-method -->

    
      <div id="method-i-hmset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hmset</span><span
            class="method-args">(key, *attrs)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set one or more hash values.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">hmset</span>(<span class="ruby-string">&quot;hash&quot;</span>, <span class="ruby-string">&quot;f1&quot;</span>, <span class="ruby-string">&quot;v1&quot;</span>, <span class="ruby-string">&quot;f2&quot;</span>, <span class="ruby-string">&quot;v2&quot;</span>)
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
</pre>

<p>@param [String] key @param [Array&lt;String&gt;] attrs array of fields and
values @return `“OK”`</p>

<p>@see <a href="Redis.html#method-i-mapped_hmset">mapped_hmset</a></p>
          

          
          <div class="method-source-code" id="hmset-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1719</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hmset</span>(<span class="ruby-identifier">key</span>, *<span class="ruby-identifier">attrs</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hmset</span>, <span class="ruby-identifier">key</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">attrs</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hmset-source -->
          
        </div>

        

        
      </div><!-- hmset-method -->

    
      <div id="method-i-hset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hset</span><span
            class="method-args">(key, field, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the string value of a hash field.</p>

<p>@param [String] key @param [String] field @param [String] value @return
[Boolean] whether or not the field was *<strong>added</strong>* to the hash</p>
          

          
          <div class="method-source-code" id="hset-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1690</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hset</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hset</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hset-source -->
          
        </div>

        

        
      </div><!-- hset-method -->

    
      <div id="method-i-hsetnx" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hsetnx</span><span
            class="method-args">(key, field, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the value of a hash field, only if the field does not exist.</p>

<p>@param [String] key @param [String] field @param [String] value @return
[Boolean] whether or not the field was *<strong>added</strong>* to the hash</p>
          

          
          <div class="method-source-code" id="hsetnx-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1702</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hsetnx</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hsetnx</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hsetnx-source -->
          
        </div>

        

        
      </div><!-- hsetnx-method -->

    
      <div id="method-i-hvals" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hvals</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get all the values in a hash.</p>

<p>@param [String] key @return [Array&lt;String&gt;]</p>
          

          
          <div class="method-source-code" id="hvals-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1851</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hvals</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:hvals</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- hvals-source -->
          
        </div>

        

        
      </div><!-- hvals-method -->

    
      <div id="method-i-id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">id</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="id-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">id</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- id-source -->
          
        </div>

        

        
      </div><!-- id-method -->

    
      <div id="method-i-incr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">incr</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Increment the integer value of a key by one.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">incr</span>(<span class="ruby-string">&quot;value&quot;</span>)
  <span class="ruby-comment"># =&gt; 6</span>
</pre>

<p>@param [String] key @return [Fixnum] value after incrementing it</p>
          

          
          <div class="method-source-code" id="incr-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 563</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">incr</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:incr</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- incr-source -->
          
        </div>

        

        
      </div><!-- incr-method -->

    
      <div id="method-i-incrby" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">incrby</span><span
            class="method-args">(key, increment)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Increment the integer value of a key by the given integer number.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">incrby</span>(<span class="ruby-string">&quot;value&quot;</span>, <span class="ruby-value">5</span>)
  <span class="ruby-comment"># =&gt; 10</span>
</pre>

<p>@param [String] key @param [Fixnum] increment @return [Fixnum] value after
incrementing it</p>
          

          
          <div class="method-source-code" id="incrby-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 578</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">incrby</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">increment</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:incrby</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">increment</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- incrby-source -->
          
        </div>

        

        
      </div><!-- incrby-method -->

    
      <div id="method-i-incrbyfloat" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">incrbyfloat</span><span
            class="method-args">(key, increment)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Increment the numeric value of a key by the given float number.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">incrbyfloat</span>(<span class="ruby-string">&quot;value&quot;</span>, <span class="ruby-value">1.23</span>)
  <span class="ruby-comment"># =&gt; 1.23</span>
</pre>

<p>@param [String] key @param [Float] increment @return [Float] value after
incrementing it</p>
          

          
          <div class="method-source-code" id="incrbyfloat-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 593</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">incrbyfloat</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">increment</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:incrbyfloat</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">increment</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">reply</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- incrbyfloat-source -->
          
        </div>

        

        
      </div><!-- incrbyfloat-method -->

    
      <div id="method-i-info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">info</span><span
            class="method-args">(cmd = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get information and statistics about the server.</p>

<p>@param [String, Symbol] cmd e.g. “commandstats” @return [Hash&lt;String,
String&gt;]</p>
          

          
          <div class="method-source-code" id="info-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">info</span>(<span class="ruby-identifier">cmd</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:info</span>, <span class="ruby-identifier">cmd</span>].<span class="ruby-identifier">compact</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>)
        <span class="ruby-identifier">reply</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">reply</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\r\n&quot;</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">line</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;:&quot;</span>, <span class="ruby-value">2</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-node">%r^(#|$)/</span>
        <span class="ruby-keyword">end</span>]

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">cmd</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cmd</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;commandstats&quot;</span>
          <span class="ruby-comment"># Extract nested hashes for INFO COMMANDSTATS</span>
          <span class="ruby-identifier">reply</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">reply</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;,&quot;</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;=&quot;</span>) }
            [<span class="ruby-identifier">k</span>[<span class="ruby-regexp">%r^cmdstat_(.*)$/</span>, <span class="ruby-value">1</span>], <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">v</span>]]
          <span class="ruby-keyword">end</span>]
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- info-source -->
          
        </div>

        

        
      </div><!-- info-method -->

    
      <div id="method-i-inspect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inspect</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="inspect-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;#&lt;Redis client v#{Redis::VERSION} for #{client.id}&gt;&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- inspect-source -->
          
        </div>

        

        
      </div><!-- inspect-method -->

    
      <div id="method-i-keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keys</span><span
            class="method-args">(pattern = "*")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Find all keys matching the given pattern.</p>

<p>@param [String] pattern @return [Array&lt;String&gt;]</p>
          

          
          <div class="method-source-code" id="keys-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keys</span>(<span class="ruby-identifier">pattern</span> = <span class="ruby-string">&quot;*&quot;</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:keys</span>, <span class="ruby-identifier">pattern</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>)
        <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot; &quot;</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- keys-source -->
          
        </div>

        

        
      </div><!-- keys-method -->

    
      <div id="method-i-lastsave" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lastsave</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the UNIX time stamp of the last successful save to disk.</p>

<p>@return [Fixnum]</p>
          

          
          <div class="method-source-code" id="lastsave-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 203</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lastsave</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lastsave</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lastsave-source -->
          
        </div>

        

        
      </div><!-- lastsave-method -->

    
      <div id="method-i-lindex" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lindex</span><span
            class="method-args">(key, index)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get an element from a list by its index.</p>

<p>@param [String] key @param [Fixnum] index @return [String]</p>
          

          
          <div class="method-source-code" id="lindex-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1018</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lindex</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">index</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lindex</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">index</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lindex-source -->
          
        </div>

        

        
      </div><!-- lindex-method -->

    
      <div id="method-i-linsert" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">linsert</span><span
            class="method-args">(key, where, pivot, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Insert an element before or after another element in a list.</p>

<p>@param [String] key @param [String, Symbol] where `BEFORE` or `AFTER`
@param [String] pivot reference element @param [String] value @return
[Fixnum] length of the list after the insert operation, or `-1`</p>

<pre>when the element `pivot` was not found</pre>
          

          
          <div class="method-source-code" id="linsert-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1032</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">linsert</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">where</span>, <span class="ruby-identifier">pivot</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:linsert</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">where</span>, <span class="ruby-identifier">pivot</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- linsert-source -->
          
        </div>

        

        
      </div><!-- linsert-method -->

    
      <div id="method-i-llen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">llen</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the length of a list.</p>

<p>@param [String] key @return [Fixnum]</p>
          

          
          <div class="method-source-code" id="llen-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 843</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">llen</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:llen</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- llen-source -->
          
        </div>

        

        
      </div><!-- llen-method -->

    
      <div id="method-i-lpop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lpop</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove and get the first element in a list.</p>

<p>@param [String] key @return [String]</p>
          

          
          <div class="method-source-code" id="lpop-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 897</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lpop</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lpop</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lpop-source -->
          
        </div>

        

        
      </div><!-- lpop-method -->

    
      <div id="method-i-lpush" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lpush</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Prepend one or more values to a list, creating the list if it doesn’t exist</p>

<p>@param [String] key @param [String] value @return [Fixnum] the length of
the list after the push operation</p>
          

          
          <div class="method-source-code" id="lpush-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 854</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lpush</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lpush</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lpush-source -->
          
        </div>

        

        
      </div><!-- lpush-method -->

    
      <div id="method-i-lpushx" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lpushx</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Prepend a value to a list, only if the list exists.</p>

<p>@param [String] key @param [String] value @return [Fixnum] the length of
the list after the push operation</p>
          

          
          <div class="method-source-code" id="lpushx-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 865</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lpushx</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lpushx</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lpushx-source -->
          
        </div>

        

        
      </div><!-- lpushx-method -->

    
      <div id="method-i-lrange" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lrange</span><span
            class="method-args">(key, start, stop)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get a range of elements from a list.</p>

<p>@param [String] key @param [Fixnum] start start index @param [Fixnum] stop
stop index @return [Array&lt;String&gt;]</p>
          

          
          <div class="method-source-code" id="lrange-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1044</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lrange</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lrange</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lrange-source -->
          
        </div>

        

        
      </div><!-- lrange-method -->

    
      <div id="method-i-lrem" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lrem</span><span
            class="method-args">(key, count, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove elements from a list.</p>

<p>@param [String] key @param [Fixnum] count number of elements to remove. Use
a positive</p>

<pre>value to remove the first `count` occurrences of `value`. A negative
value to remove the last `count` occurrences of `value`. Or zero, to
remove all occurrences of `value` from the list.</pre>

<p>@param [String] value @return [Fixnum] the number of removed elements</p>
          

          
          <div class="method-source-code" id="lrem-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1059</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lrem</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">count</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lrem</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">count</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lrem-source -->
          
        </div>

        

        
      </div><!-- lrem-method -->

    
      <div id="method-i-lset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lset</span><span
            class="method-args">(key, index, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the value of an element in a list by its index.</p>

<p>@param [String] key @param [Fixnum] index @param [String] value @return
[String] `OK`</p>
          

          
          <div class="method-source-code" id="lset-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1071</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lset</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">index</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:lset</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">index</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lset-source -->
          
        </div>

        

        
      </div><!-- lset-method -->

    
      <div id="method-i-ltrim" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ltrim</span><span
            class="method-args">(key, start, stop)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Trim a list to the specified range.</p>

<p>@param [String] key @param [Fixnum] start start index @param [Fixnum] stop
stop index @return [String] `OK`</p>
          

          
          <div class="method-source-code" id="ltrim-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1083</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ltrim</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:ltrim</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ltrim-source -->
          
        </div>

        

        
      </div><!-- ltrim-method -->

    
      <div id="method-i-mapped_hmget" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mapped_hmget</span><span
            class="method-args">(key, *fields)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the values of all the given hash fields.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">hmget</span>(<span class="ruby-string">&quot;hash&quot;</span>, <span class="ruby-string">&quot;f1&quot;</span>, <span class="ruby-string">&quot;f2&quot;</span>)
  <span class="ruby-comment"># =&gt; { &quot;f1&quot; =&gt; &quot;v1&quot;, &quot;f2&quot; =&gt; &quot;v2&quot; }</span>
</pre>

<p>@param [String] key @param [Array&lt;String&gt;] fields array of fields
@return [Hash] a hash mapping the specified fields to their values</p>

<p>@see <a href="Redis.html#method-i-hmget">hmget</a></p>
          

          
          <div class="method-source-code" id="mapped_hmget-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1779</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mapped_hmget</span>(<span class="ruby-identifier">key</span>, *<span class="ruby-identifier">fields</span>)
  <span class="ruby-identifier">hmget</span>(<span class="ruby-identifier">key</span>, *<span class="ruby-identifier">fields</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">fields</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">reply</span>)]
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mapped_hmget-source -->
          
        </div>

        

        
      </div><!-- mapped_hmget-method -->

    
      <div id="method-i-mapped_hmset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mapped_hmset</span><span
            class="method-args">(key, hash)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set one or more hash values.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">mapped_hmset</span>(<span class="ruby-string">&quot;hash&quot;</span>, { <span class="ruby-string">&quot;f1&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;v1&quot;</span>, <span class="ruby-string">&quot;f2&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;v2&quot;</span> })
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
</pre>

<p>@param [String] key @param [Hash] hash fields mapping to values @return
`“OK”`</p>

<p>@see <a href="Redis.html#method-i-hmset">hmset</a></p>
          

          
          <div class="method-source-code" id="mapped_hmset-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1736</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mapped_hmset</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">hmset</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">flatten</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- mapped_hmset-source -->
          
        </div>

        

        
      </div><!-- mapped_hmset-method -->

    
      <div id="method-i-mapped_mget" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mapped_mget</span><span
            class="method-args">(*keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the values of all the given keys.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">mapped_mget</span>(<span class="ruby-string">&quot;key1&quot;</span>, <span class="ruby-string">&quot;key1&quot;</span>)
  <span class="ruby-comment"># =&gt; { &quot;key1&quot; =&gt; &quot;v1&quot;, &quot;key2&quot; =&gt; &quot;v2&quot; }</span>
</pre>

<p>@param [Array&lt;String&gt;] keys array of keys @return [Hash] a hash
mapping the specified keys to their values</p>

<p>@see <a href="Redis.html#method-i-mget">mget</a></p>
          

          
          <div class="method-source-code" id="mapped_mget-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 747</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mapped_mget</span>(*<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">mget</span>(*<span class="ruby-identifier">keys</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">reply</span>)]
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mapped_mget-source -->
          
        </div>

        

        
      </div><!-- mapped_mget-method -->

    
      <div id="method-i-mapped_mset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mapped_mset</span><span
            class="method-args">(hash)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set one or more values.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">mapped_mset</span>({ <span class="ruby-string">&quot;f1&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;v1&quot;</span>, <span class="ruby-string">&quot;f2&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;v2&quot;</span> })
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
</pre>

<p>@param [Hash] hash keys mapping to values @return `“OK”`</p>

<p>@see <a href="Redis.html#method-i-mset">mset</a></p>
          

          
          <div class="method-source-code" id="mapped_mset-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 675</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mapped_mset</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">mset</span>(<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">flatten</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- mapped_mset-source -->
          
        </div>

        

        
      </div><!-- mapped_mset-method -->

    
      <div id="method-i-mapped_msetnx" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mapped_msetnx</span><span
            class="method-args">(hash)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set one or more values, only if none of the keys exist.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">msetnx</span>({ <span class="ruby-string">&quot;key1&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;v1&quot;</span>, <span class="ruby-string">&quot;key2&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;v2&quot;</span> })
  <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>@param [Hash] hash keys mapping to values @return [Boolean] whether or not
all values were set</p>

<p>@see <a href="Redis.html#method-i-msetnx">msetnx</a></p>
          

          
          <div class="method-source-code" id="mapped_msetnx-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 705</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mapped_msetnx</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">msetnx</span>(<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">flatten</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- mapped_msetnx-source -->
          
        </div>

        

        
      </div><!-- mapped_msetnx-method -->

    
      <div id="method-i-method_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">method_missing</span><span
            class="method-args">(command, *args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="method_missing-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2181</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">command</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-identifier">command</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- method_missing-source -->
          
        </div>

        

        
      </div><!-- method_missing-method -->

    
      <div id="method-i-mget" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mget</span><span
            class="method-args">(*keys, &blk)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the values of all the given keys.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">mget</span>(<span class="ruby-string">&quot;key1&quot;</span>, <span class="ruby-string">&quot;key1&quot;</span>)
  <span class="ruby-comment"># =&gt; [&quot;v1&quot;, &quot;v2&quot;]</span>
</pre>

<p>@param [Array&lt;String&gt;] keys @return [Array&lt;String&gt;] an array of
values for the specified keys</p>

<p>@see <a href="Redis.html#method-i-mapped_mget">mapped_mget</a></p>
          

          
          <div class="method-source-code" id="mget-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 731</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mget</span>(*<span class="ruby-identifier">keys</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:mget</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mget-source -->
          
        </div>

        

        
      </div><!-- mget-method -->

    
      <div id="method-i-monitor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">monitor</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Listen for all requests received by the server in real time.</p>

<p>There is no way to interrupt this command.</p>

<p>@yield a block to be called for every line of output @yieldparam [String]
line timestamp and command that was executed</p>
          

          
          <div class="method-source-code" id="monitor-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">monitor</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call_loop</span>([<span class="ruby-value">:monitor</span>], &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- monitor-source -->
          
        </div>

        

        
      </div><!-- monitor-method -->

    
      <div id="method-i-move" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">move</span><span
            class="method-args">(key, db)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Move a key to another database.</p>

<p>@example Move a key to another database</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">set</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-string">&quot;bar&quot;</span>
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
<span class="ruby-identifier">redis</span>.<span class="ruby-identifier">move</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-value">2</span>
  <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">redis</span>.<span class="ruby-identifier">exists</span> <span class="ruby-string">&quot;foo&quot;</span>
  <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">redis</span>.<span class="ruby-identifier">select</span> <span class="ruby-value">2</span>
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
<span class="ruby-identifier">redis</span>.<span class="ruby-identifier">exists</span> <span class="ruby-string">&quot;foo&quot;</span>
  <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">resis</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">&quot;foo&quot;</span>
  <span class="ruby-comment"># =&gt; &quot;bar&quot;</span>
</pre>

<p>@param [String] key @param [Fixnum] db @return [Boolean] whether the key
was moved or not</p>
          

          
          <div class="method-source-code" id="move-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 417</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">move</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">db</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:move</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">db</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- move-source -->
          
        </div>

        

        
      </div><!-- move-method -->

    
      <div id="method-i-mset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mset</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set one or more values.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">mset</span>(<span class="ruby-string">&quot;key1&quot;</span>, <span class="ruby-string">&quot;v1&quot;</span>, <span class="ruby-string">&quot;key2&quot;</span>, <span class="ruby-string">&quot;v2&quot;</span>)
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
</pre>

<p>@param [Array&lt;String&gt;] args array of keys and values @return `“OK”`</p>

<p>@see <a href="Redis.html#method-i-mapped_mset">mapped_mset</a></p>
          

          
          <div class="method-source-code" id="mset-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 659</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mset</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:mset</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mset-source -->
          
        </div>

        

        
      </div><!-- mset-method -->

    
      <div id="method-i-msetnx" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">msetnx</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set one or more values, only if none of the keys exist.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">msetnx</span>(<span class="ruby-string">&quot;key1&quot;</span>, <span class="ruby-string">&quot;v1&quot;</span>, <span class="ruby-string">&quot;key2&quot;</span>, <span class="ruby-string">&quot;v2&quot;</span>)
  <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>@param [Array&lt;String&gt;] args array of keys and values @return
[Boolean] whether or not all values were set</p>

<p>@see <a href="Redis.html#method-i-mapped_msetnx">mapped_msetnx</a></p>
          

          
          <div class="method-source-code" id="msetnx-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 689</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">msetnx</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:msetnx</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- msetnx-source -->
          
        </div>

        

        
      </div><!-- msetnx-method -->

    
      <div id="method-i-multi" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">multi</span><span
            class="method-args">() { |self| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Mark the start of a transaction block.</p>

<p>Passing a block is optional.</p>

<p>@example With a block</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">multi</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">multi</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">multi</span>.<span class="ruby-identifier">set</span>(<span class="ruby-string">&quot;key&quot;</span>, <span class="ruby-string">&quot;value&quot;</span>)
  <span class="ruby-identifier">multi</span>.<span class="ruby-identifier">incr</span>(<span class="ruby-string">&quot;counter&quot;</span>)
<span class="ruby-keyword">end</span> <span class="ruby-comment"># =&gt; [&quot;OK&quot;, 6]</span>
</pre>

<p>@example Without a block</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">multi</span>
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
<span class="ruby-identifier">redis</span>.<span class="ruby-identifier">set</span>(<span class="ruby-string">&quot;key&quot;</span>, <span class="ruby-string">&quot;value&quot;</span>)
  <span class="ruby-comment"># =&gt; &quot;QUEUED&quot;</span>
<span class="ruby-identifier">redis</span>.<span class="ruby-identifier">incr</span>(<span class="ruby-string">&quot;counter&quot;</span>)
  <span class="ruby-comment"># =&gt; &quot;QUEUED&quot;</span>
<span class="ruby-identifier">redis</span>.<span class="ruby-identifier">exec</span>
  <span class="ruby-comment"># =&gt; [&quot;OK&quot;, 6]</span>
</pre>

<p>@yield [multi] the commands that are called inside this block are cached</p>

<pre>and written to the server upon returning from it</pre>

<p>@yieldparam [Redis] multi `self`</p>

<p>@return [String, Array&lt;…&gt;]</p>

<pre>- when a block is not given, `OK`
- when a block is given, an array with replies</pre>

<p>@see <a href="Redis.html#method-i-watch">watch</a> @see <a
href="Redis.html#method-i-unwatch">unwatch</a></p>
          

          
          <div class="method-source-code" id="multi-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2011</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">multi</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:multi</span>])
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">pipeline</span> = <span class="ruby-constant">Pipeline</span><span class="ruby-operator">::</span><span class="ruby-constant">Multi</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">original</span>, <span class="ruby-ivar">@client</span> = <span class="ruby-ivar">@client</span>, <span class="ruby-identifier">pipeline</span>
        <span class="ruby-keyword">yield</span>(<span class="ruby-keyword">self</span>)
        <span class="ruby-identifier">original</span>.<span class="ruby-identifier">call_pipeline</span>(<span class="ruby-identifier">pipeline</span>)
      <span class="ruby-keyword">ensure</span>
        <span class="ruby-ivar">@client</span> = <span class="ruby-identifier">original</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- multi-source -->
          
        </div>

        

        
      </div><!-- multi-method -->

    
      <div id="method-i-object" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">object</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="object-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 423</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">object</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:object</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- object-source -->
          
        </div>

        

        
      </div><!-- object-method -->

    
      <div id="method-i-persist" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">persist</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove the expiration from a key.</p>

<p>@param [String] key @return [Boolean] whether the timeout was removed or
not</p>
          

          
          <div class="method-source-code" id="persist-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">persist</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:persist</span>, <span class="ruby-identifier">key</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- persist-source -->
          
        </div>

        

        
      </div><!-- persist-method -->

    
      <div id="method-i-pexpire" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pexpire</span><span
            class="method-args">(key, milliseconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set a key’s time to live in milliseconds.</p>

<p>@param [String] key @param [Fixnum] milliseconds time to live @return
[Boolean] whether the timeout was set or not</p>
          

          
          <div class="method-source-code" id="pexpire-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 334</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pexpire</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">milliseconds</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:pexpire</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">milliseconds</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- pexpire-source -->
          
        </div>

        

        
      </div><!-- pexpire-method -->

    
      <div id="method-i-pexpireat" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pexpireat</span><span
            class="method-args">(key, ms_unix_time)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the expiration for a key as number of milliseconds from UNIX Epoch.</p>

<p>@param [String] key @param [Fixnum] ms_unix_time expiry time specified as
number of milliseconds from UNIX Epoch. @return [Boolean] whether the
timeout was set or not</p>
          

          
          <div class="method-source-code" id="pexpireat-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pexpireat</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">ms_unix_time</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:pexpireat</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">ms_unix_time</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- pexpireat-source -->
          
        </div>

        

        
      </div><!-- pexpireat-method -->

    
      <div id="method-i-ping" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ping</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Ping the server.</p>

<p>@return [String] `PONG`</p>
          

          
          <div class="method-source-code" id="ping-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ping</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:ping</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ping-source -->
          
        </div>

        

        
      </div><!-- ping-method -->

    
      <div id="method-i-pipelined" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pipelined</span><span
            class="method-args">() { |self| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="pipelined-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1969</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pipelined</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">original</span>, <span class="ruby-ivar">@client</span> = <span class="ruby-ivar">@client</span>, <span class="ruby-constant">Pipeline</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-keyword">yield</span>(<span class="ruby-keyword">self</span>)
      <span class="ruby-identifier">original</span>.<span class="ruby-identifier">call_pipeline</span>(<span class="ruby-ivar">@client</span>)
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-ivar">@client</span> = <span class="ruby-identifier">original</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- pipelined-source -->
          
        </div>

        

        
      </div><!-- pipelined-method -->

    
      <div id="method-i-psetex" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">psetex</span><span
            class="method-args">(key, ttl, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the time to live in milliseconds of a key.</p>

<p>@param [String] key @param [Fixnum] ttl @param [String] value @return
`“OK”`</p>
          

          
          <div class="method-source-code" id="psetex-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 632</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">psetex</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">ttl</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:psetex</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">ttl</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- psetex-source -->
          
        </div>

        

        
      </div><!-- psetex-method -->

    
      <div id="method-i-psubscribe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">psubscribe</span><span
            class="method-args">(*channels, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Listen for messages published to channels matching the given patterns.</p>
          

          
          <div class="method-source-code" id="psubscribe-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1896</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">psubscribe</span>(*<span class="ruby-identifier">channels</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">_subscription</span>(<span class="ruby-value">:psubscribe</span>, <span class="ruby-identifier">channels</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- psubscribe-source -->
          
        </div>

        

        
      </div><!-- psubscribe-method -->

    
      <div id="method-i-pttl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pttl</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the time to live (in milliseconds) for a key.</p>

<p>@param [String] key @return [Fixnum] remaining time to live in
milliseconds, or -1 if the</p>

<pre>key does not exist or does not have a timeout</pre>
          

          
          <div class="method-source-code" id="pttl-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 356</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pttl</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:pttl</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- pttl-source -->
          
        </div>

        

        
      </div><!-- pttl-method -->

    
      <div id="method-i-publish" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">publish</span><span
            class="method-args">(channel, message)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Post a message to a channel.</p>
          

          
          <div class="method-source-code" id="publish-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1868</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">publish</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">message</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:publish</span>, <span class="ruby-identifier">channel</span>, <span class="ruby-identifier">message</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- publish-source -->
          
        </div>

        

        
      </div><!-- publish-method -->

    
      <div id="method-i-punsubscribe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">punsubscribe</span><span
            class="method-args">(*channels)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Stop listening for messages posted to channels matching the given patterns.</p>
          

          
          <div class="method-source-code" id="punsubscribe-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1903</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">punsubscribe</span>(*<span class="ruby-identifier">channels</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>, <span class="ruby-string">&quot;Can't unsubscribe if not subscribed.&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">subscribed?</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">punsubscribe</span>(*<span class="ruby-identifier">channels</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- punsubscribe-source -->
          
        </div>

        

        
      </div><!-- punsubscribe-method -->

    
      <div id="method-i-quit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">quit</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Close the connection.</p>

<p>@return [String] `OK`</p>
          

          
          <div class="method-source-code" id="quit-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">quit</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:quit</span>])
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ConnectionError</span>
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-identifier">client</span>.<span class="ruby-identifier">disconnect</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- quit-source -->
          
        </div>

        

        
      </div><!-- quit-method -->

    
      <div id="method-i-randomkey" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">randomkey</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return a random key from the keyspace.</p>

<p>@return [String]</p>
          

          
          <div class="method-source-code" id="randomkey-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">randomkey</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:randomkey</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- randomkey-source -->
          
        </div>

        

        
      </div><!-- randomkey-method -->

    
      <div id="method-i-rename" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rename</span><span
            class="method-args">(old_name, new_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Rename a key. If the new key already exists it is overwritten.</p>

<p>@param [String] old_name @param [String] new_name @return [String] `OK`</p>
          

          
          <div class="method-source-code" id="rename-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 443</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rename</span>(<span class="ruby-identifier">old_name</span>, <span class="ruby-identifier">new_name</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:rename</span>, <span class="ruby-identifier">old_name</span>, <span class="ruby-identifier">new_name</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- rename-source -->
          
        </div>

        

        
      </div><!-- rename-method -->

    
      <div id="method-i-renamenx" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">renamenx</span><span
            class="method-args">(old_name, new_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Rename a key, only if the new key does not exist.</p>

<p>@param [String] old_name @param [String] new_name @return [Boolean] whether
the key was renamed or not</p>
          

          
          <div class="method-source-code" id="renamenx-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 454</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">renamenx</span>(<span class="ruby-identifier">old_name</span>, <span class="ruby-identifier">new_name</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:renamenx</span>, <span class="ruby-identifier">old_name</span>, <span class="ruby-identifier">new_name</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- renamenx-source -->
          
        </div>

        

        
      </div><!-- renamenx-method -->

    
      <div id="method-i-rpop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rpop</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove and get the last element in a list.</p>

<p>@param [String] key @return [String]</p>
          

          
          <div class="method-source-code" id="rpop-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 907</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rpop</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:rpop</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- rpop-source -->
          
        </div>

        

        
      </div><!-- rpop-method -->

    
      <div id="method-i-rpoplpush" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rpoplpush</span><span
            class="method-args">(source, destination)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove the last element in a list, append it to another list and return it.</p>

<p>@param [String] source source key @param [String] destination destination
key @return [nil, String] the element, or nil when the source key does not
exist</p>
          

          
          <div class="method-source-code" id="rpoplpush-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 918</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rpoplpush</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:rpoplpush</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- rpoplpush-source -->
          
        </div>

        

        
      </div><!-- rpoplpush-method -->

    
      <div id="method-i-rpush" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rpush</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Append one or more values to a list, creating the list if it doesn’t exist</p>

<p>@param [String] key @param [String] value @return [Fixnum] the length of
the list after the push operation</p>
          

          
          <div class="method-source-code" id="rpush-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 876</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rpush</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:rpush</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- rpush-source -->
          
        </div>

        

        
      </div><!-- rpush-method -->

    
      <div id="method-i-rpushx" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rpushx</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Append a value to a list, only if the list exists.</p>

<p>@param [String] key @param [String] value @return [Fixnum] the length of
the list after the push operation</p>
          

          
          <div class="method-source-code" id="rpushx-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 887</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rpushx</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:rpushx</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- rpushx-source -->
          
        </div>

        

        
      </div><!-- rpushx-method -->

    
      <div id="method-i-sadd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sadd</span><span
            class="method-args">(key, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add one or more members to a set.</p>

<p>@param [String] key @param [String, Array&lt;String&gt;] member one member,
or array of members @return [Boolean, Fixnum] `Boolean` when a single
member is specified,</p>

<pre>holding whether or not adding the member succeeded, or `Fixnum` when an
array of members is specified, holding the number of members that were
successfully added</pre>
          

          
          <div class="method-source-code" id="sadd-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sadd</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sadd</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
        <span class="ruby-comment"># Variadic: return integer</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-comment"># Single argument: return boolean</span>
        <span class="ruby-identifier">_boolify</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">reply</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sadd-source -->
          
        </div>

        

        
      </div><!-- sadd-method -->

    
      <div id="method-i-save" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">save</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Synchronously save the dataset to disk.</p>

<p>@return [String]</p>
          

          
          <div class="method-source-code" id="save-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:save</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- save-source -->
          
        </div>

        

        
      </div><!-- save-method -->

    
      <div id="method-i-scard" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scard</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the number of members in a set.</p>

<p>@param [String] key @return [Fixnum]</p>
          

          
          <div class="method-source-code" id="scard-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1093</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scard</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:scard</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- scard-source -->
          
        </div>

        

        
      </div><!-- scard-method -->

    
      <div id="method-i-script" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">script</span><span
            class="method-args">(subcommand, *args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Control remote script registry.</p>

<p>@example Load a script</p>

<pre class="ruby"><span class="ruby-identifier">sha</span> = <span class="ruby-identifier">redis</span>.<span class="ruby-identifier">script</span>(:<span class="ruby-identifier">load</span>, <span class="ruby-string">&quot;return 1&quot;</span>)
  <span class="ruby-comment"># =&gt; &lt;sha of this script&gt;</span>
</pre>

<p>@example Check if a script exists</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">script</span>(:<span class="ruby-identifier">exists</span>, <span class="ruby-identifier">sha</span>)
  <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>@example Check if multiple scripts exist</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">script</span>(:<span class="ruby-identifier">exists</span>, [<span class="ruby-identifier">sha</span>, <span class="ruby-identifier">other_sha</span>])
  <span class="ruby-comment"># =&gt; [true, false]</span>
</pre>

<p>@example Flush the script registry</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">script</span>(:<span class="ruby-identifier">flush</span>)
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
</pre>

<p>@example Kill a running script</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">script</span>(:<span class="ruby-identifier">kill</span>)
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
</pre>

<p>@param [String] subcommand e.g. `exists`, `flush`, `load`, `kill` @param
[Array&lt;String&gt;] args depends on subcommand @return [String, Boolean,
Array&lt;Boolean&gt;, …] depends on subcommand</p>

<p>@see <a href="Redis.html#method-i-eval">eval</a> @see <a
href="Redis.html#method-i-evalsha">evalsha</a></p>
          

          
          <div class="method-source-code" id="script-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 2082</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">script</span>(<span class="ruby-identifier">subcommand</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">subcommand</span> = <span class="ruby-identifier">subcommand</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">subcommand</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;exists&quot;</span>
    <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>

      <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:script</span>, <span class="ruby-value">:exists</span>, <span class="ruby-identifier">arg</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">reply</span> = <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">_boolify</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">r</span>) }

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
          <span class="ruby-identifier">reply</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">first</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:script</span>, <span class="ruby-identifier">subcommand</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- script-source -->
          
        </div>

        

        
      </div><!-- script-method -->

    
      <div id="method-i-sdiff" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sdiff</span><span
            class="method-args">(*keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Subtract multiple sets.</p>

<p>@param [String, Array&lt;String&gt;] keys keys pointing to sets to subtract
@return [Array&lt;String&gt;] members in the difference</p>
          

          
          <div class="method-source-code" id="sdiff-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1200</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sdiff</span>(*<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sdiff</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sdiff-source -->
          
        </div>

        

        
      </div><!-- sdiff-method -->

    
      <div id="method-i-sdiffstore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sdiffstore</span><span
            class="method-args">(destination, *keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Subtract multiple sets and store the resulting set in a key.</p>

<p>@param [String] destination destination key @param [String,
Array&lt;String&gt;] keys keys pointing to sets to subtract @return
[Fixnum] number of elements in the resulting set</p>
          

          
          <div class="method-source-code" id="sdiffstore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sdiffstore</span>(<span class="ruby-identifier">destination</span>, *<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sdiffstore</span>, <span class="ruby-identifier">destination</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sdiffstore-source -->
          
        </div>

        

        
      </div><!-- sdiffstore-method -->

    
      <div id="method-i-select" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">select</span><span
            class="method-args">(db)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Change the selected database for the current connection.</p>

<p>@param [Fixnum] db zero-based index of the DB to use (0 to 15) @return
[String] `OK`</p>
          

          
          <div class="method-source-code" id="select-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-identifier">db</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">db</span> = <span class="ruby-identifier">db</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:select</span>, <span class="ruby-identifier">db</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- select-source -->
          
        </div>

        

        
      </div><!-- select-method -->

    
      <div id="method-i-set" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the string value of a key.</p>

<p>@param [String] key @param [String] value @return `“OK”`</p>
          

          
          <div class="method-source-code" id="set-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 606</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:set</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- set-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Redis.html#method-i-5B-5D-3D">[]=</a>
        </div>
        

        
      </div><!-- set-method -->

    
      <div id="method-i-setbit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setbit</span><span
            class="method-args">(key, offset, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Sets or clears the bit at offset in the string value stored at key.</p>

<p>@param [String] key @param [Fixnum] offset bit offset @param [Fixnum] value
bit value `0` or `1` @return [Fixnum] the original bit value stored at
`offset`</p>
          

          
          <div class="method-source-code" id="setbit-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 788</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setbit</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:setbit</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- setbit-source -->
          
        </div>

        

        
      </div><!-- setbit-method -->

    
      <div id="method-i-setex" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setex</span><span
            class="method-args">(key, ttl, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the time to live in seconds of a key.</p>

<p>@param [String] key @param [Fixnum] ttl @param [String] value @return
`“OK”`</p>
          

          
          <div class="method-source-code" id="setex-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 620</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setex</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">ttl</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:setex</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">ttl</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- setex-source -->
          
        </div>

        

        
      </div><!-- setex-method -->

    
      <div id="method-i-setnx" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setnx</span><span
            class="method-args">(key, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the value of a key, only if the key does not exist.</p>

<p>@param [String] key @param [String] value @return [Boolean] whether the key
was set or not</p>
          

          
          <div class="method-source-code" id="setnx-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 643</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setnx</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:setnx</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- setnx-source -->
          
        </div>

        

        
      </div><!-- setnx-method -->

    
      <div id="method-i-setrange" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setrange</span><span
            class="method-args">(key, offset, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Overwrite part of a string at key starting at the specified offset.</p>

<p>@param [String] key @param [Fixnum] offset byte offset @param [String]
value @return [Fixnum] length of the string after it was modified</p>
          

          
          <div class="method-source-code" id="setrange-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 763</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setrange</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:setrange</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">value</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- setrange-source -->
          
        </div>

        

        
      </div><!-- setrange-method -->

    
      <div id="method-i-shutdown" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">shutdown</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Synchronously save the dataset to disk and then shut down the server.</p>
          

          
          <div class="method-source-code" id="shutdown-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shutdown</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">with_reconnect</span>(<span class="ruby-keyword">false</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:shutdown</span>])
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ConnectionError</span>
        <span class="ruby-comment"># This means Redis has probably exited.</span>
        <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- shutdown-source -->
          
        </div>

        

        
      </div><!-- shutdown-method -->

    
      <div id="method-i-sinter" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sinter</span><span
            class="method-args">(*keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Intersect multiple sets.</p>

<p>@param [String, Array&lt;String&gt;] keys keys pointing to sets to
intersect @return [Array&lt;String&gt;] members in the intersection</p>
          

          
          <div class="method-source-code" id="sinter-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sinter</span>(*<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sinter</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sinter-source -->
          
        </div>

        

        
      </div><!-- sinter-method -->

    
      <div id="method-i-sinterstore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sinterstore</span><span
            class="method-args">(destination, *keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Intersect multiple sets and store the resulting set in a key.</p>

<p>@param [String] destination destination key @param [String,
Array&lt;String&gt;] keys keys pointing to sets to intersect @return
[Fixnum] number of elements in the resulting set</p>
          

          
          <div class="method-source-code" id="sinterstore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sinterstore</span>(<span class="ruby-identifier">destination</span>, *<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sinterstore</span>, <span class="ruby-identifier">destination</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sinterstore-source -->
          
        </div>

        

        
      </div><!-- sinterstore-method -->

    
      <div id="method-i-sismember" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sismember</span><span
            class="method-args">(key, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Determine if a given value is a member of a set.</p>

<p>@param [String] key @param [String] member @return [Boolean]</p>
          

          
          <div class="method-source-code" id="sismember-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1180</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sismember</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sismember</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sismember-source -->
          
        </div>

        

        
      </div><!-- sismember-method -->

    
      <div id="method-i-slaveof" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">slaveof</span><span
            class="method-args">(host, port)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Make the server a slave of another instance, or promote it as master.</p>
          

          
          <div class="method-source-code" id="slaveof-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">slaveof</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:slaveof</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- slaveof-source -->
          
        </div>

        

        
      </div><!-- slaveof-method -->

    
      <div id="method-i-slowlog" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">slowlog</span><span
            class="method-args">(subcommand, length=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Interact with the slowlog (get, len, reset)</p>

<p>@param [String] subcommand e.g. `get`, `len`, `reset` @param [Fixnum]
length maximum number of entries to return @return [Array&lt;String&gt;,
Fixnum, String] depends on subcommand</p>
          

          
          <div class="method-source-code" id="slowlog-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">slowlog</span>(<span class="ruby-identifier">subcommand</span>, <span class="ruby-identifier">length</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">args</span> = [<span class="ruby-value">:slowlog</span>, <span class="ruby-identifier">subcommand</span>]
    <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">length</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">length</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span> <span class="ruby-identifier">args</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- slowlog-source -->
          
        </div>

        

        
      </div><!-- slowlog-method -->

    
      <div id="method-i-smembers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">smembers</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get all the members in a set.</p>

<p>@param [String] key @return [Array&lt;String&gt;]</p>
          

          
          <div class="method-source-code" id="smembers-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">smembers</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:smembers</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- smembers-source -->
          
        </div>

        

        
      </div><!-- smembers-method -->

    
      <div id="method-i-smove" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">smove</span><span
            class="method-args">(source, destination, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Move a member from one set to another.</p>

<p>@param [String] source source key @param [String] destination destination
key @param [String] member member to move from `source` to `destination`
@return [Boolean]</p>
          

          
          <div class="method-source-code" id="smove-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">smove</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:smove</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">member</span>], &amp;<span class="ruby-identifier">_boolify</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- smove-source -->
          
        </div>

        

        
      </div><!-- smove-method -->

    
      <div id="method-i-sort" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sort</span><span
            class="method-args">(key, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Sort the elements in a list, set or sorted set.</p>

<p>@example Retrieve the first 2 elements from an alphabetically sorted “list”</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">sort</span>(<span class="ruby-string">&quot;list&quot;</span>, :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;alpha&quot;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>, <span class="ruby-value">2</span>])
  <span class="ruby-comment"># =&gt; [&quot;a&quot;, &quot;b&quot;]</span>
</pre>

<p>@example Store an alphabetically descending list in “target”</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">sort</span>(<span class="ruby-string">&quot;list&quot;</span>, :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;desc alpha&quot;</span>, :<span class="ruby-identifier">store</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;target&quot;</span>)
  <span class="ruby-comment"># =&gt; 26</span>
</pre>

<p>@param [String] key @param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:by =&gt; String`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">use</span> <span class="ruby-identifier">external</span> <span class="ruby-identifier">key</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">sort</span> <span class="ruby-identifier">elements</span> <span class="ruby-identifier">by</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:limit =&gt; [offset, count]`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skip</span> <span class="ruby-value">%xoffset`</span> <span class="ruby-identifier">elements</span>, <span class="ruby-keyword">return</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">maximum</span>
<span class="ruby-identifier">of</span> <span class="ruby-value">%xcount`</span> <span class="ruby-identifier">elements</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:get =&gt; [String, Array&lt;String&gt;]`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">single</span> <span class="ruby-identifier">key</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">array</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">keys</span> <span class="ruby-identifier">to</span>
<span class="ruby-identifier">retrieve</span> <span class="ruby-identifier">per</span> <span class="ruby-identifier">element</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">result</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:order =&gt; String`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">combination</span> <span class="ruby-identifier">of</span> <span class="ruby-value">%xASC`</span>, <span class="ruby-value">%xDESC`</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">optionally</span> <span class="ruby-value">%xALPHA`</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:store =&gt; String`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">key</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">store</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">result</span> <span class="ruby-identifier">at</span>
</pre>

<p>@return [Array&lt;String&gt;, Array&lt;Array&lt;String&gt;&gt;, Fixnum]</p>

<pre>- when `:get` is not specified, or holds a single element, an array of elements
- when `:get` is specified, and holds more than one element, an array of
elements where every element is an array with the result for every
element specified in `:get`
- when `:store` is specified, the number of elements in the stored result</pre>
          

          
          <div class="method-source-code" id="sort-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 485</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sort</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">args</span> = []

  <span class="ruby-identifier">by</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:by</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;BY&quot;</span>, <span class="ruby-identifier">by</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">by</span>

  <span class="ruby-identifier">limit</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:limit</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;LIMIT&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">limit</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">limit</span>

  <span class="ruby-identifier">get</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:get</span>])
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;GET&quot;</span>].<span class="ruby-identifier">product</span>(<span class="ruby-identifier">get</span>).<span class="ruby-identifier">flatten</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">get</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">order</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:order</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">order</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot; &quot;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">order</span>

  <span class="ruby-identifier">store</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:store</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;STORE&quot;</span>, <span class="ruby-identifier">store</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">store</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sort</span>, <span class="ruby-identifier">key</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">get</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
          <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">get</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">to_a</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sort-source -->
          
        </div>

        

        
      </div><!-- sort-method -->

    
      <div id="method-i-spop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">spop</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove and return a random member from a set.</p>

<p>@param [String] key @return [String]</p>
          

          
          <div class="method-source-code" id="spop-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1147</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">spop</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:spop</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- spop-source -->
          
        </div>

        

        
      </div><!-- spop-method -->

    
      <div id="method-i-srandmember" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">srandmember</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get a random member from a set.</p>

<p>@param [String] key @return [String]</p>
          

          
          <div class="method-source-code" id="srandmember-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1157</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">srandmember</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:srandmember</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- srandmember-source -->
          
        </div>

        

        
      </div><!-- srandmember-method -->

    
      <div id="method-i-srem" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">srem</span><span
            class="method-args">(key, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove one or more members from a set.</p>

<p>@param [String] key @param [String, Array&lt;String&gt;] member one member,
or array of members @return [Boolean, Fixnum] `Boolean` when a single
member is specified,</p>

<pre>holding whether or not removing the member succeeded, or `Fixnum` when an
array of members is specified, holding the number of members that were
successfully removed</pre>
          

          
          <div class="method-source-code" id="srem-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1129</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">srem</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:srem</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
        <span class="ruby-comment"># Variadic: return integer</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-comment"># Single argument: return boolean</span>
        <span class="ruby-identifier">_boolify</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">reply</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- srem-source -->
          
        </div>

        

        
      </div><!-- srem-method -->

    
      <div id="method-i-strlen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">strlen</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the length of the value stored in a key.</p>

<p>@param [String] key @return [Fixnum] the length of the value stored in the
key, or 0</p>

<pre>if the key does not exist</pre>
          

          
          <div class="method-source-code" id="strlen-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 833</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">strlen</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:strlen</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- strlen-source -->
          
        </div>

        

        
      </div><!-- strlen-method -->

    
      <div id="method-i-subscribe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">subscribe</span><span
            class="method-args">(*channels, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Listen for messages published to the given channels.</p>
          

          
          <div class="method-source-code" id="subscribe-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1881</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">subscribe</span>(*<span class="ruby-identifier">channels</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">_subscription</span>(<span class="ruby-value">:subscribe</span>, <span class="ruby-identifier">channels</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- subscribe-source -->
          
        </div>

        

        
      </div><!-- subscribe-method -->

    
      <div id="method-i-subscribed-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">subscribed?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="subscribed-3F-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1874</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">subscribed?</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">SubscribedClient</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- subscribed-3F-source -->
          
        </div>

        

        
      </div><!-- subscribed-3F-method -->

    
      <div id="method-i-sunion" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sunion</span><span
            class="method-args">(*keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add multiple sets.</p>

<p>@param [String, Array&lt;String&gt;] keys keys pointing to sets to unify
@return [Array&lt;String&gt;] members in the union</p>
          

          
          <div class="method-source-code" id="sunion-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sunion</span>(*<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sunion</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sunion-source -->
          
        </div>

        

        
      </div><!-- sunion-method -->

    
      <div id="method-i-sunionstore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sunionstore</span><span
            class="method-args">(destination, *keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add multiple sets and store the resulting set in a key.</p>

<p>@param [String] destination destination key @param [String,
Array&lt;String&gt;] keys keys pointing to sets to unify @return [Fixnum]
number of elements in the resulting set</p>
          

          
          <div class="method-source-code" id="sunionstore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sunionstore</span>(<span class="ruby-identifier">destination</span>, *<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sunionstore</span>, <span class="ruby-identifier">destination</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sunionstore-source -->
          
        </div>

        

        
      </div><!-- sunionstore-method -->

    
      <div id="method-i-sync" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sync</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Internal command used for replication.</p>
          

          
          <div class="method-source-code" id="sync-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sync</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:sync</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sync-source -->
          
        </div>

        

        
      </div><!-- sync-method -->

    
      <div id="method-i-synchronize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">synchronize</span><span
            class="method-args">() { |client| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="synchronize-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">synchronize</span>
  <span class="ruby-identifier">mon_synchronize</span> { <span class="ruby-keyword">yield</span>(<span class="ruby-ivar">@client</span>) }
<span class="ruby-keyword">end</span></pre>
          </div><!-- synchronize-source -->
          
        </div>

        

        
      </div><!-- synchronize-method -->

    
      <div id="method-i-time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return the server time.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">r</span>.<span class="ruby-identifier">time</span> <span class="ruby-comment"># =&gt; [ 1333093196, 606806 ]</span>
</pre>

<p>@return [Array&lt;Fixnum&gt;] tuple of seconds since UNIX epoch and</p>

<pre>microseconds in the current second</pre>
          

          
          <div class="method-source-code" id="time-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:time</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_i</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- time-source -->
          
        </div>

        

        
      </div><!-- time-method -->

    
      <div id="method-i-ttl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ttl</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the time to live (in seconds) for a key.</p>

<p>@param [String] key @return [Fixnum] remaining time to live in seconds, or
-1 if the</p>

<pre>key does not exist or does not have a timeout</pre>
          

          
          <div class="method-source-code" id="ttl-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 323</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ttl</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:ttl</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ttl-source -->
          
        </div>

        

        
      </div><!-- ttl-method -->

    
      <div id="method-i-type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">type</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Determine the type stored at key.</p>

<p>@param [String] key @return [String] `string`, `list`, `set`, `zset`,
`hash` or `none`</p>
          

          
          <div class="method-source-code" id="type-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 520</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">type</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:type</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- type-source -->
          
        </div>

        

        
      </div><!-- type-method -->

    
      <div id="method-i-unsubscribe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unsubscribe</span><span
            class="method-args">(*channels)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Stop listening for messages posted to the given channels.</p>
          

          
          <div class="method-source-code" id="unsubscribe-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1888</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unsubscribe</span>(*<span class="ruby-identifier">channels</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>, <span class="ruby-string">&quot;Can't unsubscribe if not subscribed.&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">subscribed?</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">unsubscribe</span>(*<span class="ruby-identifier">channels</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- unsubscribe-source -->
          
        </div>

        

        
      </div><!-- unsubscribe-method -->

    
      <div id="method-i-unwatch" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unwatch</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Forget about all watched keys.</p>

<p>@return [String] `OK`</p>

<p>@see <a href="Redis.html#method-i-watch">watch</a> @see <a
href="Redis.html#method-i-multi">multi</a></p>
          

          
          <div class="method-source-code" id="unwatch-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1963</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unwatch</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:unwatch</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- unwatch-source -->
          
        </div>

        

        
      </div><!-- unwatch-method -->

    
      <div id="method-i-watch" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">watch</span><span
            class="method-args">(*keys) { |self| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Watch the given keys to determine execution of the MULTI/EXEC block.</p>

<p>Using a block is optional, but is necessary for thread-safety.</p>

<p>An `<a href="Redis.html#method-i-unwatch">unwatch</a>` is automatically
issued if an exception is raised within the block that is a subclass of
StandardError and is not a <a
href="Redis/ConnectionError.html">ConnectionError</a>.</p>

<p>@example With a block</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">watch</span>(<span class="ruby-string">&quot;key&quot;</span>) <span class="ruby-keyword">do</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">redis</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&quot;key&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&quot;some value&quot;</span>
    <span class="ruby-identifier">redis</span>.<span class="ruby-identifier">multi</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">multi</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">multi</span>.<span class="ruby-identifier">set</span>(<span class="ruby-string">&quot;key&quot;</span>, <span class="ruby-string">&quot;other value&quot;</span>)
      <span class="ruby-identifier">multi</span>.<span class="ruby-identifier">incr</span>(<span class="ruby-string">&quot;counter&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">redis</span>.<span class="ruby-identifier">unwatch</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
  <span class="ruby-comment"># =&gt; [&quot;OK&quot;, 6]</span>
</pre>

<p>@example Without a block</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">watch</span>(<span class="ruby-string">&quot;key&quot;</span>)
  <span class="ruby-comment"># =&gt; &quot;OK&quot;</span>
</pre>

<p>@param [String, Array&lt;String&gt;] keys one or more keys to watch @return
[Object] if using a block, returns the return value of the block @return
[String] if not using a block, returns `OK`</p>

<p>@see <a href="Redis.html#method-i-unwatch">unwatch</a> @see <a
href="Redis.html#method-i-multi">multi</a></p>
          

          
          <div class="method-source-code" id="watch-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1940</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">watch</span>(*<span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:watch</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-keyword">yield</span>(<span class="ruby-keyword">self</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ConnectionError</span>
        <span class="ruby-identifier">raise</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span>
        <span class="ruby-identifier">unwatch</span>
        <span class="ruby-identifier">raise</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- watch-source -->
          
        </div>

        

        
      </div><!-- watch-method -->

    
      <div id="method-i-with_reconnect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">with_reconnect</span><span
            class="method-args">(val=true, &blk)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run code with the client reconnecting</p>
          

          
          <div class="method-source-code" id="with_reconnect-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">with_reconnect</span>(<span class="ruby-identifier">val</span>=<span class="ruby-keyword">true</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">with_reconnect</span>(<span class="ruby-identifier">val</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- with_reconnect-source -->
          
        </div>

        

        
      </div><!-- with_reconnect-method -->

    
      <div id="method-i-without_reconnect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">without_reconnect</span><span
            class="method-args">(&blk)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run code without the client reconnecting</p>
          

          
          <div class="method-source-code" id="without_reconnect-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">without_reconnect</span>(&amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">with_reconnect</span>(<span class="ruby-keyword">false</span>, &amp;<span class="ruby-identifier">blk</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- without_reconnect-source -->
          
        </div>

        

        
      </div><!-- without_reconnect-method -->

    
      <div id="method-i-zadd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zadd</span><span
            class="method-args">(key, *args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add one or more members to a sorted set, or update the score for members
that already exist.</p>

<p>@example Add a single `[score, member]` pair to a sorted set</p>

<pre>redis.zadd(&quot;zset&quot;, 32.0, &quot;member&quot;)</pre>

<p>@example Add an array of `[score, member]` pairs to a sorted set</p>

<pre>redis.zadd(&quot;zset&quot;, [[32.0, &quot;a&quot;], [64.0, &quot;b&quot;]])</pre>

<p>@param [String] key @param [[Float, String], Array&lt;[Float, String]&gt;]
args</p>

<pre>- a single `[score, member]` pair
- an array of `[score, member]` pairs</pre>

<p>@return [Boolean, Fixnum]</p>

<pre>- `Boolean` when a single pair is specified, holding whether or not it was
**added** to the sorted set
- `Fixnum` when an array of pairs is specified, holding the number of
pairs that were **added** to the sorted set</pre>
          

          
          <div class="method-source-code" id="zadd-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1291</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zadd</span>(<span class="ruby-identifier">key</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-comment"># Variadic: return integer</span>
      <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zadd</span>, <span class="ruby-identifier">key</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>])
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
      <span class="ruby-comment"># Single pair: return boolean</span>
      <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zadd</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>]], &amp;<span class="ruby-identifier">_boolify</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;wrong number of arguments&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zadd-source -->
          
        </div>

        

        
      </div><!-- zadd-method -->

    
      <div id="method-i-zcard" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zcard</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the number of members in a sorted set.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zcard</span>(<span class="ruby-string">&quot;zset&quot;</span>)
  <span class="ruby-comment"># =&gt; 4</span>
</pre>

<p>@param [String] key @return [Fixnum]</p>
          

          
          <div class="method-source-code" id="zcard-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1267</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zcard</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zcard</span>, <span class="ruby-identifier">key</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zcard-source -->
          
        </div>

        

        
      </div><!-- zcard-method -->

    
      <div id="method-i-zcount" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zcount</span><span
            class="method-args">(key, min, max)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Count the members in a sorted set with scores within the given values.</p>

<p>@example Count members with score `&gt;= 5` and `&lt; 100`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zcount</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;5&quot;</span>, <span class="ruby-string">&quot;(100&quot;</span>)
  <span class="ruby-comment"># =&gt; 2</span>
</pre>

<p>@example Count members with scores `&gt; 5`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zcount</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;(5&quot;</span>, <span class="ruby-string">&quot;+inf&quot;</span>)
  <span class="ruby-comment"># =&gt; 2</span>
</pre>

<p>@param [String] key @param [String] min</p>

<pre>- inclusive minimum score is specified verbatim
- exclusive minimum score is specified by prefixing `(`</pre>

<p>@param [String] max</p>

<pre>- inclusive maximum score is specified verbatim
- exclusive maximum score is specified by prefixing `(`</pre>

<p>@return [Fixnum] number of members in within the specified range</p>
          

          
          <div class="method-source-code" id="zcount-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1613</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zcount</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zcount</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zcount-source -->
          
        </div>

        

        
      </div><!-- zcount-method -->

    
      <div id="method-i-zincrby" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zincrby</span><span
            class="method-args">(key, increment, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Increment the score of a member in a sorted set.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zincrby</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-value">32.0</span>, <span class="ruby-string">&quot;a&quot;</span>)
  <span class="ruby-comment"># =&gt; 64.0</span>
</pre>

<p>@param [String] key @param [Float] increment @param [String] member @return
[Float] score of the member after incrementing it</p>
          

          
          <div class="method-source-code" id="zincrby-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1315</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zincrby</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">increment</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zincrby</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">increment</span>, <span class="ruby-identifier">member</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">reply</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zincrby-source -->
          
        </div>

        

        
      </div><!-- zincrby-method -->

    
      <div id="method-i-zinterstore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zinterstore</span><span
            class="method-args">(destination, keys, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Intersect multiple sorted sets and store the resulting sorted set in a new
key.</p>

<p>@example Compute the intersection of `2*zsetA` with `1*zsetB`, summing
their scores</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zinterstore</span>(<span class="ruby-string">&quot;zsetC&quot;</span>, [<span class="ruby-string">&quot;zsetA&quot;</span>, <span class="ruby-string">&quot;zsetB&quot;</span>], :<span class="ruby-identifier">weights</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">2.0</span>, <span class="ruby-value">1.0</span>], :<span class="ruby-identifier">aggregate</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;sum&quot;</span>)
  <span class="ruby-comment"># =&gt; 4</span>
</pre>

<p>@param [String] destination destination key @param [Array&lt;String&gt;]
keys source keys @param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:weights =&gt; [Float, Float, ...]`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">weights</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">associate</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">source</span>
<span class="ruby-identifier">sorted</span> <span class="ruby-identifier">sets</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:aggregate =&gt; String`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">aggregate</span> <span class="ruby-identifier">function</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">use</span> (<span class="ruby-identifier">sum</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>, <span class="ruby-operator">...</span>)
</pre>

<p>@return [Fixnum] number of elements in the resulting sorted set</p>
          

          
          <div class="method-source-code" id="zinterstore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1633</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zinterstore</span>(<span class="ruby-identifier">destination</span>, <span class="ruby-identifier">keys</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">args</span> = []

  <span class="ruby-identifier">weights</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:weights</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;WEIGHTS&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">weights</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">weights</span>

  <span class="ruby-identifier">aggregate</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:aggregate</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;AGGREGATE&quot;</span>, <span class="ruby-identifier">aggregate</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">aggregate</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zinterstore</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zinterstore-source -->
          
        </div>

        

        
      </div><!-- zinterstore-method -->

    
      <div id="method-i-zrange" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zrange</span><span
            class="method-args">(key, start, stop, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return a range of members in a sorted set, by index.</p>

<p>@example Retrieve all members from a sorted set</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrange</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-value">0</span>, <span class="ruby-value">-1</span>)
  <span class="ruby-comment"># =&gt; [&quot;a&quot;, &quot;b&quot;]</span>
</pre>

<p>@example Retrieve all members and their scores from a sorted set</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrange</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-value">0</span>, <span class="ruby-value">-1</span>, :<span class="ruby-identifier">with_scores</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-comment"># =&gt; [[&quot;a&quot;, 32.0], [&quot;b&quot;, 64.0]]</span>
</pre>

<p>@param [String] key @param [Fixnum] start start index @param [Fixnum] stop
stop index @param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:with_scores =&gt; true`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">include</span> <span class="ruby-identifier">scores</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">output</span>
</pre>

<p>@return [Array&lt;String&gt;, Array&lt;[String, Float]&gt;]</p>

<pre>- when `:with_scores` is not specified, an array of members
- when `:with_scores` is specified, an array with `[member, score]` pairs</pre>
          

          
          <div class="method-source-code" id="zrange-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1389</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zrange</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">args</span> = []

  <span class="ruby-identifier">with_scores</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:with_scores</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:withscores</span>]
  <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;WITHSCORES&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zrange</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
          <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span>, <span class="ruby-identifier">score</span><span class="ruby-operator">|</span>
            [<span class="ruby-identifier">member</span>, <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">score</span>)]
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zrange-source -->
          
        </div>

        

        
      </div><!-- zrange-method -->

    
      <div id="method-i-zrangebyscore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zrangebyscore</span><span
            class="method-args">(key, min, max, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return a range of members in a sorted set, by score.</p>

<p>@example Retrieve members with score `&gt;= 5` and `&lt; 100`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;5&quot;</span>, <span class="ruby-string">&quot;(100&quot;</span>)
  <span class="ruby-comment"># =&gt; [&quot;a&quot;, &quot;b&quot;]</span>
</pre>

<p>@example Retrieve the first 2 members with score `&gt;= 0`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;0&quot;</span>, <span class="ruby-string">&quot;+inf&quot;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>, <span class="ruby-value">2</span>])
  <span class="ruby-comment"># =&gt; [&quot;a&quot;, &quot;b&quot;]</span>
</pre>

<p>@example Retrieve members and their scores with scores `&gt; 5`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;(5&quot;</span>, <span class="ruby-string">&quot;+inf&quot;</span>, :<span class="ruby-identifier">with_scores</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-comment"># =&gt; [[&quot;a&quot;, 32.0], [&quot;b&quot;, 64.0]]</span>
</pre>

<p>@param [String] key @param [String] min</p>

<pre>- inclusive minimum score is specified verbatim
- exclusive minimum score is specified by prefixing `(`</pre>

<p>@param [String] max</p>

<pre>- inclusive maximum score is specified verbatim
- exclusive maximum score is specified by prefixing `(`</pre>

<p>@param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:with_scores =&gt; true`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">include</span> <span class="ruby-identifier">scores</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">output</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:limit =&gt; [offset, count]`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skip</span> <span class="ruby-value">%xoffset`</span> <span class="ruby-identifier">members</span>, <span class="ruby-keyword">return</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">maximum</span> <span class="ruby-identifier">of</span>
<span class="ruby-value">%xcount`</span> <span class="ruby-identifier">members</span>
</pre>

<p>@return [Array&lt;String&gt;, Array&lt;[String, Float]&gt;]</p>

<pre>- when `:with_scores` is not specified, an array of members
- when `:with_scores` is specified, an array with `[member, score]` pairs</pre>
          

          
          <div class="method-source-code" id="zrangebyscore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1511</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zrangebyscore</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">args</span> = []

  <span class="ruby-identifier">with_scores</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:with_scores</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:withscores</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;WITHSCORES&quot;</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>

  <span class="ruby-identifier">limit</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:limit</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;LIMIT&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">limit</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">limit</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zrangebyscore</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
          <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span>, <span class="ruby-identifier">score</span><span class="ruby-operator">|</span>
            [<span class="ruby-identifier">member</span>, <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">score</span>)]
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zrangebyscore-source -->
          
        </div>

        

        
      </div><!-- zrangebyscore-method -->

    
      <div id="method-i-zrank" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zrank</span><span
            class="method-args">(key, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Determine the index of a member in a sorted set.</p>

<p>@param [String] key @param [String] member @return [Fixnum]</p>
          

          
          <div class="method-source-code" id="zrank-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1447</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zrank</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zrank</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zrank-source -->
          
        </div>

        

        
      </div><!-- zrank-method -->

    
      <div id="method-i-zrem" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zrem</span><span
            class="method-args">(key, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove one or more members from a sorted set.</p>

<p>@example Remove a single member from a sorted set</p>

<pre>redis.zrem(&quot;zset&quot;, &quot;a&quot;)</pre>

<p>@example Remove an array of members from a sorted set</p>

<pre>redis.zrem(&quot;zset&quot;, [&quot;a&quot;, &quot;b&quot;])</pre>

<p>@param [String] key @param [String, Array&lt;String&gt;] member</p>

<pre>- a single member
- an array of members</pre>

<p>@return [Boolean, Fixnum]</p>

<pre>- `Boolean` when a single member is specified, holding whether or not it
was removed from the sorted set
- `Fixnum` when an array of pairs is specified, holding the number of
members that were removed to the sorted set</pre>
          

          
          <div class="method-source-code" id="zrem-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1340</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zrem</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zrem</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
        <span class="ruby-comment"># Variadic: return integer</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-comment"># Single argument: return boolean</span>
        <span class="ruby-identifier">_boolify</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">reply</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zrem-source -->
          
        </div>

        

        
      </div><!-- zrem-method -->

    
      <div id="method-i-zremrangebyrank" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zremrangebyrank</span><span
            class="method-args">(key, start, stop)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove all members in a sorted set within the given indexes.</p>

<p>@example Remove first 5 members</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zremrangebyrank</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-value">0</span>, <span class="ruby-value">4</span>)
  <span class="ruby-comment"># =&gt; 5</span>
</pre>

<p>@example Remove last 5 members</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zremrangebyrank</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-value">-5</span>, <span class="ruby-value">-1</span>)
  <span class="ruby-comment"># =&gt; 5</span>
</pre>

<p>@param [String] key @param [Fixnum] start start index @param [Fixnum] stop
stop index @return [Fixnum] number of members that were removed</p>
          

          
          <div class="method-source-code" id="zremrangebyrank-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1478</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zremrangebyrank</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zremrangebyrank</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zremrangebyrank-source -->
          
        </div>

        

        
      </div><!-- zremrangebyrank-method -->

    
      <div id="method-i-zremrangebyscore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zremrangebyscore</span><span
            class="method-args">(key, min, max)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove all members in a sorted set within the given scores.</p>

<p>@example Remove members with score `&gt;= 5` and `&lt; 100`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zremrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;5&quot;</span>, <span class="ruby-string">&quot;(100&quot;</span>)
  <span class="ruby-comment"># =&gt; 2</span>
</pre>

<p>@example Remove members with scores `&gt; 5`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zremrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;(5&quot;</span>, <span class="ruby-string">&quot;+inf&quot;</span>)
  <span class="ruby-comment"># =&gt; 2</span>
</pre>

<p>@param [String] key @param [String] min</p>

<pre>- inclusive minimum score is specified verbatim
- exclusive minimum score is specified by prefixing `(`</pre>

<p>@param [String] max</p>

<pre>- inclusive maximum score is specified verbatim
- exclusive maximum score is specified by prefixing `(`</pre>

<p>@return [Fixnum] number of members that were removed</p>
          

          
          <div class="method-source-code" id="zremrangebyscore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1590</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zremrangebyscore</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zremrangebyscore</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zremrangebyscore-source -->
          
        </div>

        

        
      </div><!-- zremrangebyscore-method -->

    
      <div id="method-i-zrevrange" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zrevrange</span><span
            class="method-args">(key, start, stop, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return a range of members in a sorted set, by index, with scores ordered
from high to low.</p>

<p>@example Retrieve all members from a sorted set</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrevrange</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-value">0</span>, <span class="ruby-value">-1</span>)
  <span class="ruby-comment"># =&gt; [&quot;b&quot;, &quot;a&quot;]</span>
</pre>

<p>@example Retrieve all members and their scores from a sorted set</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrevrange</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-value">0</span>, <span class="ruby-value">-1</span>, :<span class="ruby-identifier">with_scores</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-comment"># =&gt; [[&quot;b&quot;, 64.0], [&quot;a&quot;, 32.0]]</span>
</pre>

<p>@see <a href="Redis.html#method-i-zrange">zrange</a></p>
          

          
          <div class="method-source-code" id="zrevrange-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1421</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zrevrange</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">args</span> = []

  <span class="ruby-identifier">with_scores</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:with_scores</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:withscores</span>]
  <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;WITHSCORES&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zrevrange</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">stop</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
          <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span>, <span class="ruby-identifier">score</span><span class="ruby-operator">|</span>
            [<span class="ruby-identifier">member</span>, <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">score</span>)]
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zrevrange-source -->
          
        </div>

        

        
      </div><!-- zrevrange-method -->

    
      <div id="method-i-zrevrangebyscore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zrevrangebyscore</span><span
            class="method-args">(key, max, min, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return a range of members in a sorted set, by score, with scores ordered
from high to low.</p>

<p>@example Retrieve members with score `&lt; 100` and `&gt;= 5`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrevrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;(100&quot;</span>, <span class="ruby-string">&quot;5&quot;</span>)
  <span class="ruby-comment"># =&gt; [&quot;b&quot;, &quot;a&quot;]</span>
</pre>

<p>@example Retrieve the first 2 members with score `&lt;= 0`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrevrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;0&quot;</span>, <span class="ruby-string">&quot;-inf&quot;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>, <span class="ruby-value">2</span>])
  <span class="ruby-comment"># =&gt; [&quot;b&quot;, &quot;a&quot;]</span>
</pre>

<p>@example Retrieve members and their scores with scores `&gt; 5`</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zrevrangebyscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;+inf&quot;</span>, <span class="ruby-string">&quot;(5&quot;</span>, :<span class="ruby-identifier">with_scores</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-comment"># =&gt; [[&quot;b&quot;, 64.0], [&quot;a&quot;, 32.0]]</span>
</pre>

<p>@see <a href="Redis.html#method-i-zrangebyscore">zrangebyscore</a></p>
          

          
          <div class="method-source-code" id="zrevrangebyscore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1549</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zrevrangebyscore</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">args</span> = []

  <span class="ruby-identifier">with_scores</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:with_scores</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:withscores</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;WITHSCORES&quot;</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>

  <span class="ruby-identifier">limit</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:limit</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;LIMIT&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">limit</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">limit</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zrevrangebyscore</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">min</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_scores</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
          <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span>, <span class="ruby-identifier">score</span><span class="ruby-operator">|</span>
            [<span class="ruby-identifier">member</span>, <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">score</span>)]
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">reply</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zrevrangebyscore-source -->
          
        </div>

        

        
      </div><!-- zrevrangebyscore-method -->

    
      <div id="method-i-zrevrank" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zrevrank</span><span
            class="method-args">(key, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Determine the index of a member in a sorted set, with scores ordered from
high to low.</p>

<p>@param [String] key @param [String] member @return [Fixnum]</p>
          

          
          <div class="method-source-code" id="zrevrank-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1459</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zrevrank</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zrevrank</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zrevrank-source -->
          
        </div>

        

        
      </div><!-- zrevrank-method -->

    
      <div id="method-i-zscore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zscore</span><span
            class="method-args">(key, member)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the score associated with the given member in a sorted set.</p>

<p>@example Get the score for member “a”</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zscore</span>(<span class="ruby-string">&quot;zset&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>)
  <span class="ruby-comment"># =&gt; 32.0</span>
</pre>

<p>@param [String] key @param [String] member @return [Float] score of the
member</p>
          

          
          <div class="method-source-code" id="zscore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1363</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zscore</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zscore</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">member</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">_floatify</span>(<span class="ruby-identifier">reply</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">reply</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zscore-source -->
          
        </div>

        

        
      </div><!-- zscore-method -->

    
      <div id="method-i-zunionstore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">zunionstore</span><span
            class="method-args">(destination, keys, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add multiple sorted sets and store the resulting sorted set in a new key.</p>

<p>@example Compute the union of `2*zsetA` with `1*zsetB`, summing their
scores</p>

<pre class="ruby"><span class="ruby-identifier">redis</span>.<span class="ruby-identifier">zunionstore</span>(<span class="ruby-string">&quot;zsetC&quot;</span>, [<span class="ruby-string">&quot;zsetA&quot;</span>, <span class="ruby-string">&quot;zsetB&quot;</span>], :<span class="ruby-identifier">weights</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">2.0</span>, <span class="ruby-value">1.0</span>], :<span class="ruby-identifier">aggregate</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;sum&quot;</span>)
  <span class="ruby-comment"># =&gt; 8</span>
</pre>

<p>@param [String] destination destination key @param [Array&lt;String&gt;]
keys source keys @param [Hash] options</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-value">%x:weights =&gt; [Float, Float, ...]`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">weights</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">associate</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">source</span>
<span class="ruby-identifier">sorted</span> <span class="ruby-identifier">sets</span>
<span class="ruby-operator">-</span> <span class="ruby-value">%x:aggregate =&gt; String`</span><span class="ruby-operator">:</span> <span class="ruby-identifier">aggregate</span> <span class="ruby-identifier">function</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">use</span> (<span class="ruby-identifier">sum</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>, <span class="ruby-operator">...</span>)
</pre>

<p>@return [Fixnum] number of elements in the resulting sorted set</p>
          

          
          <div class="method-source-code" id="zunionstore-source">
            <pre><span class="ruby-comment"># File lib/redis.rb, line 1660</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">zunionstore</span>(<span class="ruby-identifier">destination</span>, <span class="ruby-identifier">keys</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">args</span> = []

  <span class="ruby-identifier">weights</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:weights</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;WEIGHTS&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">weights</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">weights</span>

  <span class="ruby-identifier">aggregate</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:aggregate</span>]
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-string">&quot;AGGREGATE&quot;</span>, <span class="ruby-identifier">aggregate</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">aggregate</span>

  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">client</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">call</span>([<span class="ruby-value">:zunionstore</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">keys</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- zunionstore-source -->
          
        </div>

        

        
      </div><!-- zunionstore-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

